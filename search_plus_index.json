{"./":{"url":"./","title":"Introduction","keywords":"","body":"hazel-learnbook ğŸŒˆ Introduction My personal front-end learning record SUMMARY å‰ç«¯å·¥å…· Fetch Html 2 Canvas hå‡½æ•° Postmessage Tsx Vite æŠ€æœ¯ä¼˜åŒ– nodeå†…å­˜æº¢å‡º vue-cli3.xé¡¹ç›®webpackä¼˜åŒ– Web Worker è·¨ç«¯æ–¹æ¡ˆ Apicloud Electron Flutter Uni App Uniapp é€šç”¨å·¥å…· Curl Gitbook ç½‘ç»œæŠ“åŒ…Charles é¡¹ç›®å·¥ç¨‹åŒ– Github Action Monorepo Qiankun Rollup Pack Node Vite Pack Node ä»£ç æäº¤è§„èŒƒ ä»£ç æ ¡éªŒ ä»£ç æ ¼å¼åŒ– æ— æ¡†æ¶é¡¹ç›®gulpç¯‡ æ¨¡å—è”é‚¦Module-Federation ç‰ˆæœ¬å‘å¸ƒè§„èŒƒ ğŸ”— Powered by Gitbook # install $ npm install -g gitbook-cli # usage with nvm âœ¨ Gitbook Features GitBook GitBook Plugins generate a SUMMARY.MD via Gitbook Summary Automated deployment via Github Actions choose /docs via Github Pages Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:35:05 "},"å‰ç«¯å·¥å…·/fetch.html":{"url":"å‰ç«¯å·¥å…·/fetch.html","title":"Fetch","keywords":"","body":"fetch features fetch() çš„åŠŸèƒ½ä¸ XMLHttpRequest åŸºæœ¬ç›¸åŒï¼Œä½†æœ‰ä¸‰ä¸ªä¸»è¦çš„å·®å¼‚ promise æ¨¡å—åŒ–è®¾è®¡ï¼ŒAPI åˆ†æ•£åœ¨å¤šä¸ªå¯¹è±¡ä¸Šï¼ˆResponseã€Requestã€Headersï¼‰ æ•°æ®æµï¼ˆstream å¯¹è±¡ï¼‰å¤„ç†æ•°æ®ï¼Œå¯ä»¥åˆ†å—è¯»å–ï¼Œæœ‰åˆ©äºæé«˜ç½‘ç«™æ€§èƒ½è¡¨ç°ï¼Œå‡å°‘å†…å®¹å ç”¨ï¼›XMLHTTPRequest å¯¹è±¡ä¸æ”¯æŒæ•°æ®æµï¼Œæ‰€æœ‰çš„æ•°æ®å¿…é¡»æ”¾åœ¨ç¼“å­˜é‡Œï¼Œä¸æ”¯æŒåˆ†å—è¯»å–ï¼Œå¿…é¡»ç­‰å¾…å…¨éƒ¨æ‹¿åˆ°åï¼Œå†ä¸€æ¬¡æ€§åå‡ºæ¥ è¯·æ±‚æ˜¯å¦æˆåŠŸæ ‡è¯†ï¼ˆåªæœ‰ç½‘ç»œé”™è¯¯ï¼Œæˆ–è€…æ— æ³•è¿æ¥æ—¶ï¼Œfetch() æ‰ä¼šæŠ¥é”™ï¼Œå…¶ä»–æƒ…å†µéƒ½ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è®¤ä¸ºè¯·æ±‚æˆåŠŸï¼‰ æ•è·é”™è¯¯ try catch æ¨¡å—åŒ–å¯¹è±¡ Response å¯¹è±¡ fetch() è¯·æ±‚æˆåŠŸä»¥åï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ª Response å¯¹è±¡ï¼Œresponse æ˜¯ä¸€ä¸ª Stream å¯¹è±¡ã€‚ const response = await fetch(url) // åŒæ­¥å±æ€§ console.log('response.ok', response.ok) // è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œtrueå¯¹åº” HTTP è¯·æ±‚çš„çŠ¶æ€ç  200 åˆ° 299ï¼Œfalseå¯¹åº”å…¶ä»–çš„çŠ¶æ€ç  console.log('response.status', response.status) // å›ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤º HTTP å›åº”çš„çŠ¶æ€ç  console.log('response.statusText', response.statusText) // è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º HTTP å›åº”çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚è¯·æ±‚æˆåŠŸä»¥åï¼ŒæœåŠ¡å™¨è¿”å›\"OK\"ï¼‰ console.log('response.url', response.url) // è¿”å›è¯·æ±‚çš„ URLã€‚å¦‚æœ URL å­˜åœ¨è·³è½¬ï¼Œè¯¥å±æ€§è¿”å›çš„æ˜¯æœ€ç»ˆ URL console.log('response.type', response.type) // è¿”å›è¯·æ±‚çš„ç±»å‹ console.log('response.redirected', response.redirected) // è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦å‘ç”Ÿè¿‡è·³è½¬ // å¼‚æ­¥æ–¹æ³• // Responseå¯¹è±¡æ ¹æ®æœåŠ¡å™¨è¿”å›çš„ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæä¾›äº†ä¸åŒçš„è¯»å–æ–¹æ³•ã€‚ await response.text() // å¾—åˆ°æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ HTML æ–‡ä»¶ã€‚ await response.json() // å¾—åˆ° JSON å¯¹è±¡ã€‚ await response.blob() // å¾—åˆ°äºŒè¿›åˆ¶ Blob å¯¹è±¡ï¼Œæ¯”å¦‚å›¾ç‰‡æ–‡ä»¶ã€‚ await response.formData() // å¾—åˆ° FormData è¡¨å•å¯¹è±¡ï¼Œä¸»è¦ç”¨åœ¨ Service Worker é‡Œé¢ï¼Œæ‹¦æˆªç”¨æˆ·æäº¤çš„è¡¨å•ï¼Œä¿®æ”¹æŸäº›æ•°æ®ä»¥åï¼Œå†æäº¤ç»™æœåŠ¡å™¨ã€‚ await response.arrayBuffer() // å¾—åˆ°äºŒè¿›åˆ¶ ArrayBuffer å¯¹è±¡ï¼Œæ¯”å¦‚éŸ³é¢‘æ–‡ä»¶ã€‚ // Stream å¯¹è±¡åªèƒ½è¯»å–ä¸€æ¬¡ï¼Œè¯»å–å®Œå°±æ²¡äº†ï¼Œå†è¯»å–ä¼šæŠ¥é”™ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºResponseå¯¹è±¡çš„å‰¯æœ¬ï¼Œå®ç°å¤šæ¬¡è¯»å–ã€‚ const response2 = response.clone() Headers å¯¹è±¡ Response å¯¹è±¡è¿˜æœ‰ä¸€ä¸ª Response.headers å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ª Headers å¯¹è±¡ï¼Œå¯¹åº” HTTP å›åº”çš„æ‰€æœ‰æ ‡å¤´ã€‚ const headers = response.headers Headers.get() // æ ¹æ®æŒ‡å®šçš„é”®åï¼Œè¿”å›é”®å€¼ã€‚ Headers.has() // è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦åŒ…å«æŸä¸ªæ ‡å¤´ã€‚ Headers.set() // å°†æŒ‡å®šçš„é”®åè®¾ç½®ä¸ºæ–°çš„é”®å€¼ï¼Œå¦‚æœè¯¥é”®åä¸å­˜åœ¨åˆ™ä¼šæ·»åŠ ã€‚ Headers.append() // æ·»åŠ æ ‡å¤´ã€‚ Headers.delete() // åˆ é™¤æ ‡å¤´ã€‚ Headers.keys() // è¿”å›ä¸€ä¸ªéå†å™¨ï¼Œå¯ä»¥ä¾æ¬¡éå†æ‰€æœ‰é”®åã€‚ Headers.values() // è¿”å›ä¸€ä¸ªéå†å™¨ï¼Œå¯ä»¥ä¾æ¬¡éå†æ‰€æœ‰é”®å€¼ã€‚ Headers.entries() // è¿”å›ä¸€ä¸ªéå†å™¨ï¼Œå¯ä»¥ä¾æ¬¡éå†æ‰€æœ‰é”®å€¼å¯¹ï¼ˆ[key, value]ï¼‰ã€‚ Headers.forEach() // ä¾æ¬¡éå†æ ‡å¤´ï¼Œæ¯ä¸ªæ ‡å¤´éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡å‚æ•°å‡½æ•°ã€‚ ReadableStream å¯¹è±¡ Response å¯¹è±¡æœ‰ä¸€ä¸ª Response.body.getReader() å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ª ReadableStream å¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥åˆ†å—è¯»å–å†…å®¹ï¼Œåº”ç”¨ä¹‹ä¸€å°±æ˜¯æ˜¾ç¤ºä¸‹è½½çš„è¿›åº¦ const response = await fetch('flower.jpg') const reader = response.body.getReader() // è¿”å›ä¸€ä¸ªéå†å™¨ã€‚è¿™ä¸ªéå†å™¨çš„read()æ–¹æ³•æ¯æ¬¡è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºæœ¬æ¬¡è¯»å–çš„å†…å®¹å—ã€‚ while(true) { // doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨æ¥åˆ¤æ–­æœ‰æ²¡æœ‰è¯»å®Œï¼›valueå±æ€§æ˜¯ä¸€ä¸ª arrayBuffer æ•°ç»„ï¼Œè¡¨ç¤ºå†…å®¹å—çš„å†…å®¹ï¼Œè€Œvalue.lengthå±æ€§æ˜¯å½“å‰å—çš„å¤§å°ã€‚ const {done, value} = await reader.read() if (done) { break } console.log(`Received ${value.length} bytes`) } AbortController å¯¹è±¡ å–æ¶ˆ fetch() è¯·æ±‚éœ€è¦ä½¿ç”¨ AbortController å¯¹è±¡ // const controller = new AbortController() const signal = controller.signal const postreq = await fetch(getContentByTypeCodeUrl, { method: 'post', headers: { 'Content-Type': 'application/json;charset=utf-8' }, body: JSON.stringify({ platformSource: 0, typeCode: 'orderMust' }) signal: signal // æŒ‡å®šä¸€ä¸ª AbortSignal å®ä¾‹ï¼Œç”¨äºå–æ¶ˆfetch()è¯·æ±‚ }) signal.addEventListener('abort', (e) => { console.log('abort', e) }) // ç”¨äºå–æ¶ˆ fetch è¯·æ±‚ setTimeout(() => { controller.abort() }, 2000) è¯·æ±‚æ•°æ®ç±»å‹ let params = {} const response = await fetch('xxx', { method: 'POST', body: params }) æäº¤ JSON æ•°æ® params = JSON.stringify(user) æäº¤è¡¨å• const form = document.querySelector('form') params = new FormData(form) æ–‡ä»¶ä¸Šä¼  const input = document.querySelector('input[type=\"file\"]') const data = new FormData() data.append('file', input.files[0]) data.append('user', 'foo') params = data ç›´æ¥ä¸Šä¼ äºŒè¿›åˆ¶æ•°æ® let blob = await new Promise(resolve => canvasElem.toBlob(resolve, 'image/png') ) params = blob get è¯·æ±‚çš„å‚æ•°è½¬å¯¹è±¡ä¼ é€’ ç›´æ¥ä¼ ï¼šâ Failed to execute 'fetch' on 'Window': Request with GET/HEAD method cannot have body å€ŸåŠ© Qsï¼šâœ… const params = { path: url, color: 128, level: 9 } fetch(`/sharp-compress-gif/compression?${Qs.stringify(params)}`, { method: 'GET', }) usage Fetch API æ•™ç¨‹ try { /** GET è¯·æ±‚ */ // fetch() æ¥æ”¶åˆ°çš„ response æ˜¯ä¸€ä¸ª Stream å¯¹è±¡ const response = await fetch(queryCouponConfigListUrl) const resData = await response.json() /** POST è¯·æ±‚ */ const postreq = await fetch(getContentByTypeCodeUrl, { method: 'post', headers: { 'Content-Type': 'application/json;charset=utf-8' }, body: JSON.stringify({ platformSource: 0, typeCode: 'orderMust' }), referrer: 'about:client', referrerPolicy: 'no-referrer-when-downgrade', mode: 'cors', // å…è®¸è·¨åŸŸè¯·æ±‚ credentials: 'same-origin', // åŒæºè¯·æ±‚æ—¶å‘é€ Cookieï¼Œè·¨åŸŸè¯·æ±‚æ—¶ä¸å‘é€ cache: 'default', // å…ˆåœ¨ç¼“å­˜é‡Œé¢å¯»æ‰¾åŒ¹é…çš„è¯·æ±‚ redirect: 'follow', // fetch()è·Ÿéš HTTP è·³è½¬ integrity: '', // æŒ‡å®šä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œç”¨äºæ£€æŸ¥ HTTP å›åº”ä¼ å›çš„æ•°æ®æ˜¯å¦ç­‰äºè¿™ä¸ªé¢„å…ˆè®¾å®šçš„å“ˆå¸Œå€¼ã€‚æ¯”å¦‚ï¼Œä¸‹è½½æ–‡ä»¶æ—¶ï¼Œæ£€æŸ¥æ–‡ä»¶çš„ SHA-256 å“ˆå¸Œå€¼æ˜¯å¦ç›¸ç¬¦ï¼Œç¡®ä¿æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚ keepalive: true, // è¯¥å±æ€§ç”¨äºé¡µé¢å¸è½½æ—¶ï¼Œå‘Šè¯‰æµè§ˆå™¨åœ¨åå°ä¿æŒè¿æ¥ï¼Œç»§ç»­å‘é€æ•°æ® signal: signal // æŒ‡å®šä¸€ä¸ª AbortSignal å®ä¾‹ï¼Œç”¨äºå–æ¶ˆfetch()è¯·æ±‚ }) const postresult = await postreq.json() console.log('result', postresult) } catch (e) { console.log('error', e) } Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"å‰ç«¯å·¥å…·/html2canvas.html":{"url":"å‰ç«¯å·¥å…·/html2canvas.html","title":"Html 2 Canvas","keywords":"","body":"html2canvas è¯»å–å·²ç»æ¸²æŸ“å¥½çš„ DOM å…ƒç´ çš„ç»“æ„å’Œæ ·å¼ä¿¡æ¯ï¼Œç„¶ååŸºäºè¿™äº›ä¿¡æ¯å»æ„å»ºæˆªå›¾ï¼Œå‘ˆç°åœ¨ canvas ç”»å¸ƒä¸­ã€‚ ä½¿ç”¨åœºæ™¯ ç”Ÿæˆ canvas ä¸‹è½½å›¾ç‰‡ é¡µé¢æˆªå›¾æ‰“å° å®‰è£… npm i html2canvas ä½¿ç”¨ ... ä¸‹è½½ import html2canvas from 'html2canvas' download() { html2canvas(document.querySelector('#banner'), { useCORS: true, // æ˜¯å¦å°è¯•ä½¿ç”¨CORSä»æœåŠ¡å™¨åŠ è½½å›¾åƒ allowTaint: false, // æ˜¯å¦å…è®¸è·¨åŸŸå›¾åƒæ±¡æŸ“ç”»å¸ƒ scale: 4, // æ”¾å¤§å€æ•° æé«˜å›¾ç‰‡è´¨é‡ width: dom.offsetWidth, // ç›´æ¥å–å¾—éœ€è¦è½¬ä¸ºå›¾ç‰‡çš„domå…ƒç´ çš„å®½é«˜ height: dom.offsetHeight, }).then(canvas => { // å»é™¤é”¯é½¿ let context = canvas.getContext('2d') context.mozImageSmoothingEnabled = false context.webkitImageSmoothingEnabled = false context.msImageSmoothingEnabled = false context.imageSmoothingEnabled = false // åŠ è½½åŠ¨ç”» this.posterLoading = Loading.service({ lock: true, text: 'ä¸‹è½½æµ·æŠ¥ä¸­â€¦â€¦', background: 'rgba(0, 0, 0, 0.5)', }) let self = this let url = canvas.toDataURL() let xhr = new XMLHttpRequest() xhr.open('GET', url, true) xhr.responseType = 'blob' xhr.onload = function () { if (this.status === 200) { let blob = this.response let fileName = self.posterTitle.includes('.') ? self.posterTitle + '.png' : self.posterTitle if (navigator.msSaveBlob == null) { const link = document.createElement('a') const event = new MouseEvent('click') link.download = fileName link.href = URL.createObjectURL(blob) link.dispatchEvent(event) } else { navigator.msSaveBlob(blob, fileName) } } setTimeout(() => { self.posterLoading.close() }, 200) } xhr.send() // æ¨¡æ‹Ÿä¸‹è½½ const link = document.createElement('a') const event = new MouseEvent('click') link.download = this.activityTitle link.href = canvas.toDataURL() link.dispatchEvent(event) }) }, åˆ†è¾¨ç‡ scaleï¼š scalewindow.devicePixelRatio ç”¨äºæ¸²æŸ“çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤ä¸ºæµè§ˆå™¨è®¾å¤‡åƒç´ æ¯” é—®é¢˜ å›¾ç‰‡ä¸æ˜¾ç¤º å¯èƒ½åŸå› ï¼š html2canvas æ²¡æœ‰é…ç½® useCORS: true // æ˜¯å¦å°è¯•ä½¿ç”¨ CORS ä»æœåŠ¡å™¨åŠ è½½å›¾åƒ åå°æ²¡æœ‰é…ç½®è·¨åŸŸ åå°é…ç½®è·¨åŸŸäº†ä½†æ§åˆ¶å°è¿˜æ˜¯æ˜¾ç¤ºè·¨åŸŸé”™è¯¯ åŸå› ï¼š æµè§ˆå™¨æœ¬åœ°ç¼“å­˜é”™è¯¯ï¼Œå³é‡å¤è¯·æ±‚äº†ç›¸åŒçš„æ¥å£ï¼Œå¯¼è‡´è·¨åŸŸé”™è¯¯ã€‚ å› ä¸º html2canvas åªä¼šæ ¹æ® dom ç»“æœè¯·æ±‚å¹¶ä¸”å¯¹å›¾ç‰‡æ¥æºæœ‰é™åˆ¶ã€‚å½“ dom æœ‰å›¾ç‰‡å°±ä¼šè¯·æ±‚ç½‘ç»œï¼Œæ‰€ä»¥ canvas ç¬¬äºŒæ¬¡è¯·æ±‚å®é™…ä¸Šæ˜¯ä»ç¼“å­˜è·å–ï¼Œå¦‚æœä»ç¼“å­˜è¯»å–ç±»ä¼¼æœ¬åœ°è¯»å–ç…§ç‰‡åˆ™ä¼šæœ‰è·¨åŸŸé™åˆ¶ã€‚ éªŒè¯ï¼š å¼€å¯æ§åˆ¶å°ç½‘ç»œçš„ç¦æ­¢ç¼“å­˜é€‰é¡¹ è§£å†³ï¼š åŠ  cdnï¼Œä½†è¦åŠ é’± é…ç½® CORS è§„åˆ™ï¼Œé™„åŠ ç›¸å…³ Headerï¼Œé€‰ä¸­è¿”å› vary: origin å¤´ä»¥é¿å…æœ¬åœ°ç¼“å­˜é”™ä¹±ã€‚ä½†æ˜¯é€‰ä¸­åå¯èƒ½ä¼šé€ æˆæµè§ˆå™¨è®¿é—®æ¬¡æ•°æˆ– CDN å›æºæ¬¡æ•°å¢åŠ ã€‚ æ ·å¼é”™ä¹±ï¼Œä¸ç½‘é¡µä¸ä¸€ éƒ¨åˆ† css æ ·å¼ä¸å…¼å®¹ï¼Œæ¯”å¦‚ clac è®¡ç®—æ ·å¼ç­‰ç­‰ ä¸‹è½½ä¸äº†æˆ–æ— ååº” å¯èƒ½æ€§ï¼š éœ€è¦åœ¨é¡µé¢æ¸²æŸ“å®Œæ¯•å†ä¸‹è½½ æŠ¥é”™ TypeError: Failed to execute 'addColorStop' on 'CanvasGradient' å¯èƒ½æ€§ï¼š é¡µé¢æ¸²æŸ“åå­˜åœ¨ä¸¤ä¸ªç›¸åŒ canvasId çš„ canvas å‚è€ƒ html2canvas å®ç°æµè§ˆå™¨æˆªå›¾çš„åŸç†ï¼ˆåŒ…å«æºç åˆ†æçš„é€šç”¨æ–¹æ³•ï¼‰ html2canvas å…¼å®¹æ€§ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"å‰ç«¯å·¥å…·/hå‡½æ•°.html":{"url":"å‰ç«¯å·¥å…·/hå‡½æ•°.html","title":"hå‡½æ•°","keywords":"","body":"h å‡½æ•° æ¦‚è¿° Vue æä¾›äº†ä¸€ä¸ª h() å‡½æ•°ç”¨äºåˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹ï¼ˆvnodesï¼‰ã€‚h() æ˜¯ hyperscript çš„ç®€ç§°ï¼Œæ„æ€æ˜¯\"èƒ½ç”Ÿæˆ HTML (è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€) çš„ JavaScript\"ã€‚è¿™ä¸ªåå­—æ¥æºäºè®¸å¤šè™šæ‹Ÿ DOM å®ç°é»˜è®¤å½¢æˆçš„çº¦å®šã€‚è™½ç„¶ä¸€ä¸ªæ›´å‡†ç¡®çš„åç§°åº”è¯¥æ˜¯ createVNode()ï¼Œä½†åœ¨éœ€è¦é¢‘ç¹ä½¿ç”¨æ¸²æŸ“å‡½æ•°æ—¶ï¼Œç®€çŸ­çš„åå­—æ›´å…·ä¼˜åŠ¿ã€‚ æ ¸å¿ƒç‰¹ç‚¹ é«˜åº¦çµæ´»æ€§ï¼šh() å‡½æ•°å¯ä»¥é€‚åº”å„ç§ç»„ä»¶å’Œå…ƒç´ åˆ›å»ºéœ€æ±‚ å¤šç§å‚æ•°æ ¼å¼ï¼š æ”¯æŒå¯¹è±¡å½¢å¼ç¼–å†™ å±æ€§å¯ä»¥å†™æˆé©¼å³°å¼æˆ– kebab-case æ ¼å¼ï¼ˆä½¿ç”¨å¼•å·åŒ…è£¹ï¼‰ äº‹ä»¶ç›‘å¬å™¨å¯ä»¥å†™æˆ onClick å½¢å¼æˆ–å¯¹è±¡å½¢å¼ è¯¦ç»†ç”¨æ³•ç¤ºä¾‹ h('div', null, [ h( 'div', { // æ ·å¼å¯¹è±¡ï¼ˆé©¼å³°å¼ï¼‰ style: { marginTop: '10px', backgroundColor: '#f5f5f5' }, // DOM å±æ€§ props: { value: someValue, id: 'container' }, // äº‹ä»¶ç›‘å¬å™¨ on: { input: (value) => { this.value = value }, change: (value) => { handleChange(value) }, // ä¹Ÿå¯ä»¥ä½¿ç”¨ kebab-case æ ¼å¼ 'custom-event': handleCustomEvent }, // å…¶ä»–ç‰¹æ®Šå±æ€§ attrs: { 'data-test': 'test-id' }, // ç±»å class: { 'active': isActive, 'disabled': isDisabled } }, { // æ’æ§½å†…å®¹å¿…é¡»ä½¿ç”¨å‡½æ•°å½¢å¼ default: () => [ 'å®¡æ ¸å»ºè®®ï¼š', h(ElInput, { // åŒå‘ç»‘å®š modelValue: var1.value, 'onUpdate:modelValue': (val: string) => { var1.value = val }, // å…¶ä»–å±æ€§ placeholder: 'è¯·è¾“å…¥', type: 'textarea', minRows: 4, maxlength: 1000, showWordLimit: true, // åŸç”Ÿäº‹ä»¶ onClick: handleClick, // è‡ªå®šä¹‰æŒ‡ä»¤ directives: [ { name: 'focus', value: true } ] }) ] } ) ]) æ’æ§½å¤„ç†æœ€ä½³å®è·µ å¸¸è§é”™è¯¯ï¼š\"Non-function value encountered for default slot.\" æ€§èƒ½ä¼˜åŒ–ï¼šVue 3 æ¨èä½¿ç”¨å‡½æ•°å¼æ’æ§½ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ æ˜¾å¼å£°æ˜ï¼šå³ä½¿åªæ˜¯é»˜è®¤æ’æ§½ï¼Œä¹Ÿéœ€è¦æ˜¾å¼å†™å‡º default: () => ... çš„å½¢å¼ å¤šæ’æ§½å¤„ç†ï¼šå½“ç»„ä»¶æœ‰å¤šä¸ªæ’æ§½æ—¶ï¼Œéœ€è¦ä¸ºæ¯ä¸ªæ’æ§½æä¾›å‡½æ•° // é”™è¯¯å†™æ³• - ç›´æ¥ä¼ é€’å†…å®¹ return h(Component, { props }, content) // æ­£ç¡®å†™æ³• - é»˜è®¤æ’æ§½ return h(Component, { props }, { default: () => content }) // å¤šä¸ªæ’æ§½ return h(Component, { props }, { default: () => [content1, content2], header: () => h('div', 'Header'), footer: () => h('div', 'Footer') }) è¿›é˜¶æŠ€å·§ åŠ¨æ€ç»„ä»¶ï¼š h(resolveComponent(componentName), { ...props }) é€’å½’ç»„ä»¶ï¼š h('div', { key: node.id }, [ node.children ? node.children.map(child => h(recursiveComponent, { node: child })) : null ]) JSX æ›¿ä»£ï¼š const vnode = Hello æŒ‡ä»¤ä½¿ç”¨ï¼š h('div', { directives: [ { name: 'my-directive', value: someValue, arg: 'arg', modifiers: { modifier: true } } ] }) æ€§èƒ½ä¼˜åŒ– é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼šä¸ºåˆ—è¡¨é¡¹æä¾›ç¨³å®šçš„ key åˆç†ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ï¼šå¯¹äºæ— çŠ¶æ€çš„å±•ç¤ºç»„ä»¶ ç¼“å­˜é™æ€å†…å®¹ï¼šå°†ä¸å˜åŒ–çš„ vnodes ç¼“å­˜èµ·æ¥ åˆç†ä½¿ç”¨ç‰‡æ®µï¼šå‡å°‘ä¸å¿…è¦çš„åŒ…è£…å…ƒç´  ç‰ˆæœ¬å·®å¼‚è¯´æ˜ Vue 2 vs Vue 3ï¼š Vue 2 ä½¿ç”¨ createElement è€Œé h Vue 3 çš„æ’æ§½å¿…é¡»ä½¿ç”¨å‡½æ•°å½¢å¼ Vue 3 å¯¹å±æ€§å¤„ç†æ›´åŠ ä¸¥æ ¼ Composition APIï¼š import { h } from 'vue' export default { setup() { return () => h('div', 'Hello') } } Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:12:52 "},"å‰ç«¯å·¥å…·/postmessage.html":{"url":"å‰ç«¯å·¥å…·/postmessage.html","title":"Postmessage","keywords":"","body":"postMessage è·¨çª—å£é€šä¿¡ 1.çˆ¶çª—å£ç»™å­çª—å£å‘é€æ¶ˆæ¯çš„æ–¹å¼ï¼š iFrame.contentWindow.postMessage('MessageFromIndex1','_'); å…¶å®å°±æ˜¯åœ¨çˆ¶çª—å£ä¸­æ“ä½œå­çª—å£å‘æ¶ˆæ¯ï¼Œç„¶åè®©å­çª—å£æ¥æ”¶è‡ªå·±åˆšæ‰å‘çš„æ¶ˆæ¯ã€‚ 2.å­çª—å£ç»™çˆ¶çª—å£å‘é€æ¶ˆæ¯çš„æ–¹å¼ï¼š parent.postMessage({msg: 'MessageFromIframePage'}, '_'); æ³¨æ„ï¼šæ­¤å¤„ parent === window.parentï¼Œå³å­çª—å£çš„çˆ¶çª—å£ã€‚ å…¶å®å°±æ˜¯åœ¨å­çª—å£ä¸­æ“ä½œçˆ¶çª—å£å‘æ¶ˆæ¯ï¼Œç„¶åè®©çˆ¶çª—å£æ¥æ”¶è‡ªå·±åˆšæ‰å‘çš„æ¶ˆæ¯ã€‚ æ€»ç»“ï¼šæ‰€è°“çš„è·¨çª—å£å‘é€æ¶ˆæ¯ï¼Œå°±æ˜¯é€šè¿‡åœ¨åˆ«çš„çª—å£æ“ä½œæœ¬çª—å£å‘é€æ¶ˆæ¯ï¼Œç„¶åæœ¬çª—å£å†è‡ªå·±æ¥æ”¶çš„æ–¹å¼å®ç°ã€‚ // å­é¡µé¢ // å­çª—å£ä¼ çˆ¶ function sendMessage() { // top = window.parent = window.top top?.postMessage( { data: { code: 'success', text: 'å­é é¢çš„test', }, }, '*' ) } // å­çª—å£æ¥æ”¶çˆ¶ const result = ref({}) window.addEventListener( 'message', (event: any) => { result.value = event.data.data }, false ) // çˆ¶çª—å£ // çˆ¶æ¥æ”¶å­ const result = ref() onMounted(() => { window.addEventListener('message', (event: any) => { const data = event.data.data if (data?.code === 'success') { ElMessage(data?.text) result.value = data?.text } }) // çˆ¶å‘å­å…ˆå®šä¹‰ myFrameInstance.value = myFrameRef.value?.contentWindow }) // çˆ¶å‘å­ const myFrameRef = ref() const myFrameInstance = ref() function sendMessage() { myFrameInstance.value.postMessage( { data: 'Hello Message From Bi!', }, '*' ) } å¯å‚è€ƒåº“ï¼šhttps://github.com/dollarshaveclub/postmate window.top.postmessage å’Œ window.postmessage window.top.postmessage æ‰èƒ½ä¼ å€¼ window.top.postMessage({ name: 'test' }, '*') å¤šçª—å£åµŒå¥—ä¼ å€¼ const sendData = {} const windowList = [] function getWindow (currentWindow) { if (currentWindow.top.opener) { // å¤šçª—å£å±‚çº§ if (currentWindow.top.vm) { // æ–°åå° return currentWindow.top } else { windowList.push(currentWindow.top) return getWindow(currentWindow.top.opener) } } else { // åªæœ‰ä¸€ä¸ªå±‚çº§ return currentWindow.top } } function closeWindows() { windowList.forEach(item => { if (item === window) { setTimeout(() => { item.close() }, 1) } else { item.close() } }) } getWindow(window).postMessage(sendData, '*') closeWindows() window.opener.xx çˆ¶ï¼šwindow.xx = () => {} å­ï¼š window.opener.xx() widnow.close() MessageChannel https://www.jianshu.com/p/4f07ef18b5d7 Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"å‰ç«¯å·¥å…·/tsx.html":{"url":"å‰ç«¯å·¥å…·/tsx.html","title":"Tsx","keywords":"","body":"tsx SFCï¼šVue å•æ–‡ä»¶ç»„ä»¶ TSXï¼šTypeScript æ–‡ä»¶ï¼ŒåŒ…å« JavaScript XMLï¼ˆJSXï¼‰ é…ç½® vite.config.ts // pnpm install @vitejs/plugin-vue-jsx -D import { defineConfig } from \"vite\" import vue from \"@vitejs/plugin-vue\" import vueJsx from \"@vitejs/plugin-vue-jsx\" export default defineConfig({ plugins: [ vue(), vueJsx() //æ’ä»¶ä½¿ç”¨ ], css: { modules: { // è§„å®šcssç±»åçš„å‘½åè§„åˆ™ä¸ºå°é©¼å³°ï¼Œå³ child-item css ç±»åœ¨ js ä¸­ä¼šå˜æˆ childItem å˜é‡ localsConvention: 'camelCase' } }, }) CSS Modules css module æŠŠ css ä½œä¸ºæ¨¡å—å¼•å…¥åˆ° js ä¸­ï¼Œæ˜¯ä¸€ç§æŠ€æœ¯æµçš„ç»„ç»‡cssä»£ç çš„ç­–ç•¥ï¼Œå®ƒå°†ä¸ºcssæä¾›é»˜è®¤çš„å±€éƒ¨ä½œç”¨åŸŸã€‚ css module å¯¹ css æ–‡ä»¶å‘½åæœ‰è¦æ±‚ï¼Œå¿…é¡»åœ¨åç¼€åå‰é¢æ˜¯moduleï¼Œä¾‹å¦‚xxx.module.cssã€xxx.module.lessã€xxx.module.scssã€‚ vite.config.ts css: { modules: { // è§„å®šcssç±»åçš„å‘½åè§„åˆ™ä¸ºå°é©¼å³°ï¼Œå³ child-item css ç±»åœ¨ js ä¸­ä¼šå˜æˆ childItem å˜é‡ localsConvention: 'camelCase' } }, const TsxDemo = defineComponent({ setup() { return () => { return ( <> {/* OR */} ) } }, }) export default TsxDemo ç¼–è¯‘å’Œä½¿ç”¨ css module ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è‡ªåŠ¨æŠŠç±»ååŠ ä¸Šä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ä¸²ï¼Œè€Œä½¿ç”¨ global å£°æ˜çš„ class ä¸ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è¢«åŠ ä¸Šå“ˆå¸Œå­—ç¬¦ä¸²ã€‚ index.module.scss /** å½¢å¼ä¸€ */ .demo-normal { .normal-test { background-color: red !important; } } // å½¢å¼ä¸€ä¼šç¼–è¯‘æˆï¼š ._react-demo_1e21d_6 ._demo-test_1e21d_6 { background-color: red !important; } /** å½¢å¼äºŒ */ .demo-global { :global { .global-test { background-color: red !important; } } } // å½¢å¼äºŒä¼šç¼–è¯‘æˆï¼š ._react-demo_86lo7_6 .demo-test { background-color: red !important; } ç±»åä½¿ç”¨å¼•ç”¨çš„æ–¹å¼ä¼šè¢«ç¼–è¯‘æˆå“ˆå¸Œå­—ç¬¦ä¸²çš„ï¼Œglobal å£°æ˜åˆ™ä¸èƒ½ç”¨å¼•ç”¨çš„æ–¹å¼ã€‚ // å½¢å¼ä¸€ normal // å½¢å¼äºŒ global global å…¨å±€ä½œç”¨é€‰æ‹©å™¨ statistics.module.scss // reactï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è¦†ç›–ç¬¬ä¸‰æ–¹çš„ç»„ä»¶æ ·å¼ï¼Œç”¨è‡ªå·±å†™çš„é€‰æ‹©å™¨åç§°æ˜¯è¦†ç›–ä¸äº†çš„ï¼Œå› ä¸ºåŠ äº†å“ˆå¸Œå­—ç¬¦ä¸²ä¹‹åä¸ç»„ä»¶é»˜è®¤æ ·å¼çš„é€‰æ‹©å™¨åç§°ä¸åŒ¹é…ï¼›è€Œä½¿ç”¨ global å£°æ˜çš„ classï¼Œä¸ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è¢«åŠ ä¸Šå“ˆå¸Œå­—ç¬¦ä¸²ï¼Œä»è€Œå¯ä»¥å®ç°è¦†ç›–é»˜è®¤æ ·å¼çš„æ•ˆæœã€‚ .table-wrap { :global { .el-table td.el-table__cell, .el-table thead.is-group th.el-table__cell { padding: 5px !important; } } } // åŒºåˆ« vueï¼Œå³ä½¿ç”¨ä¸€ä¸ªå”¯ä¸€çš„ç±»ååŒ…ç€ä¹Ÿä¼šä½œç”¨åˆ°æœ‰ç”¨åˆ°è¯¥ç±»åçš„å…¨å±€æ ·å¼ï¼Œæ…ç”¨ // æ¯”å¦‚åœ¨ä¸‹æ–¹ä¾‹å­ä¸­ï¼Œå…¶ä»–æ–‡ä»¶ç”¨äº† .test ç±»åä¹Ÿä¼šè¢«å½±å“åˆ° .notice-dialog { :global(.el-dialog.is-fullscreen) { min-width: 900px !important; } :global(.test) { background-color: red !important; } } classnames classNames('foo', 'bar') // => 'foo bar' Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 12:11:32 "},"å‰ç«¯å·¥å…·/vite.html":{"url":"å‰ç«¯å·¥å…·/vite.html","title":"Vite","keywords":"","body":"Vite åŸç† 1. å¼€å‘æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µ ä¸ä¼ ç»Ÿå·¥å…·çš„æœ¬è´¨åŒºåˆ«ï¼š Webpackç­‰ä¼ ç»Ÿå·¥å…·ï¼šå¿…é¡»å®Œæ•´æ‰“åŒ…æ‰€æœ‰æ¨¡å—æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ Viteï¼šç«‹å³å¯åŠ¨æœåŠ¡å™¨ï¼Œä»…å‡†å¤‡æœ€åŸºç¡€è¿è¡Œæ—¶ç¯å¢ƒï¼ˆå¦‚ vite/client çƒ­æ›´æ–°é€»è¾‘ï¼‰ å¯åŠ¨æµç¨‹ï¼š åˆå§‹åŒ–HTTPæœåŠ¡å™¨ï¼ˆçº¦50msï¼‰ æ‰«æé¡¹ç›®å…¥å£æ–‡ä»¶ï¼ˆindex.htmlï¼‰ å»ºç«‹æ¨¡å—ä¾èµ–å›¾çš„éª¨æ¶ç»“æ„ï¼ˆä¸è§£æå…·ä½“å†…å®¹ï¼‰ å®ç°æ•ˆæœï¼šæ— è®ºé¡¹ç›®å¤§å°ï¼Œå¯åŠ¨æ—¶é—´æ’å®šåœ¨100-300ms å†·å¯åŠ¨ä¼˜åŠ¿ï¼š ä¼ ç»Ÿå·¥å…·ï¼šO(n)å¤æ‚åº¦ï¼ˆn=æ¨¡å—æ•°é‡ï¼‰ Viteï¼šO(1)å¤æ‚åº¦ 2. æµè§ˆå™¨è¯·æ±‚å¤„ç†é˜¶æ®µ åŸç”ŸESæ¨¡å—çš„å·¥ä½œæµç¨‹ï¼š æµè§ˆå™¨è¯·æ±‚ index.html â†“ HTMLä¸­é‡åˆ° â†“ æµè§ˆå™¨å‘èµ·å¯¹main.jsçš„è¯·æ±‚ â†“ Viteå®æ—¶è½¬æ¢JSæ–‡ä»¶ï¼ˆå¦‚TSâ†’JSã€Vue SFCç¼–è¯‘ï¼‰ â†“ è¿”å›è½¬æ¢åä»£ç ï¼Œå…¶ä¸­åŒ…å«importè¯­å¥ â†“ æµè§ˆå™¨ç»§ç»­å‘èµ·å¯¹ä¾èµ–æ¨¡å—çš„è¯·æ±‚ï¼ˆå¾ªç¯æ­¤è¿‡ç¨‹ï¼‰ å…³é”®ä¼˜åŒ–ç‚¹ï¼š æŒ‰éœ€ç¼–è¯‘ï¼šåªç¼–è¯‘å½“å‰é¡µé¢å®é™…ç”¨åˆ°çš„æ–‡ä»¶ ä¾èµ–é¢„æ„å»ºï¼šå°†CommonJSæ¨¡å—è½¬æ¢ä¸ºESMæ ¼å¼ï¼ˆå­˜å‚¨åœ¨node_modules/.viteï¼‰ å¼ºç¼“å­˜ï¼šæœªä¿®æ”¹çš„æºç è¿”å›304çŠ¶æ€ç  æµè§ˆå™¨åä½œï¼šåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ¨¡å—è§£æèƒ½åŠ›ï¼Œå°†éƒ¨åˆ†å·¥ä½œè½¬ç§»ç»™æ€§èƒ½æ›´å¼ºçš„ç°ä»£æµè§ˆå™¨ï¼Œå¼€å‘æœåŠ¡å™¨åªéœ€åšè½»é‡çº§è½¬æ¢ 3. çƒ­æ›´æ–°ï¼ˆHMRï¼‰æœºåˆ¶ å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆï¼š Webpackå’ŒViteåœ¨æ›´æ–°èŒƒå›´ã€æ›´æ–°æ—¶é—´å’Œé€šä¿¡æ–¹å¼ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚ Webpackéœ€è¦æ›´æ–°æ•´ä¸ªbundleï¼Œå…¶æ›´æ–°æ—¶é—´ä¼šéšç€é¡¹ç›®è§„æ¨¡çº¿æ€§å¢é•¿ï¼›è€ŒViteåªéœ€æ›´æ–°å•ä¸ªæ–‡ä»¶ï¼Œæ›´æ–°æ—¶é—´æ’å®šåœ¨50æ¯«ç§’ä»¥å†…ã€‚åœ¨é€šä¿¡æ–¹å¼æ–¹é¢ï¼ŒWebpackä½¿ç”¨WebSocketï¼ŒViteåˆ™ç»“åˆäº†WebSocketå’ŒETagæŠ€æœ¯ã€‚ å…·ä½“æ‰§è¡Œæµç¨‹ï¼š æ–‡ä»¶ä¿®æ”¹è§¦å‘æ–‡ä»¶ç³»ç»Ÿç›‘å¬ Viteç¡®å®šå—å½±å“æ¨¡å—èŒƒå›´ é€šè¿‡WebSocketå‘é€æ›´æ–°æ¶ˆæ¯ï¼ˆåŒ…å«æ–°æ¨¡å—å†…å®¹ï¼‰ æµè§ˆå™¨ç›´æ¥æ›¿æ¢ESæ¨¡å—å®ä¾‹ // ä¼ ç»Ÿå·¥å…·éœ€è¦é‡å»ºæ•´ä¸ªä¾èµ–å›¾ function rebuild() { const fullDependencyGraph = buildGraph(); return bundle(fullDependencyGraph); } // Viteåªéœ€å¤„ç†å˜æ›´æ–‡ä»¶ function rebuild(file) { const affected = getAffectedModules(file); return partialUpdate(affected); } 4. ç”Ÿäº§æ„å»ºç­–ç•¥ å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒå·®å¼‚ï¼š graph LR A[å¼€å‘ç¯å¢ƒ] -->|åŸºäºESM| B[æŒ‰éœ€ç¼–è¯‘] C[ç”Ÿäº§ç¯å¢ƒ] -->|åŸºäºRollup| D[å…¨é‡æ‰“åŒ…] D --> E[ä»£ç åˆ†å‰²] D --> F[Tree-shaking] D --> G[èµ„æºå‹ç¼©] Rollupæ‰“åŒ…çš„ä¼˜åŠ¿ï¼š æ›´é«˜æ•ˆçš„tree-shakingï¼ˆç›¸æ¯”webpackï¼‰ æ›´ç®€æ´çš„bundleè¾“å‡º æ›´å¥½çš„ä»£ç åˆ†å‰²æ§åˆ¶ æ„å»º vite.config.ts export default defineConfig({ base: '/project/', server: { port: 3000, open: true }, build: { outDir: 'dist', assetsInlineLimit: 4096 } }) package.json \"scripts\": { \"dev\": \"vite\", \"build\": \"tsc && vite build -w\" } å¼€å‘æ¨¡å¼ (pnpm dev) æœåŠ¡å™¨å¯åŠ¨æµç¨‹ï¼š è§£æé¡¹ç›®é…ç½®ï¼ˆvite.config.tsï¼‰ åˆ›å»ºæ¨¡å—ä¾èµ–å›¾ï¼ˆModule Graphï¼‰ å¯åŠ¨ HTTP æœåŠ¡å™¨å’Œ WebSocket æœåŠ¡ï¼ˆç”¨äº HMRï¼‰ è¯·æ±‚å¤„ç†æœºåˆ¶ï¼š sequenceDiagram æµè§ˆå™¨->>Vite æœåŠ¡å™¨: è¯·æ±‚ index.html Vite æœåŠ¡å™¨->>æµè§ˆå™¨: è¿”å›åŸå§‹ HTML æµè§ˆå™¨->>Vite æœåŠ¡å™¨: è¯·æ±‚ main.js Vite æœåŠ¡å™¨->>æµè§ˆå™¨: è¿”å›è½¬æ¢åçš„ JS æµè§ˆå™¨->>Vite æœåŠ¡å™¨: è¯·æ±‚ä¾èµ–æ¨¡å— Vite æœåŠ¡å™¨->>æµè§ˆå™¨: æŒ‰éœ€è¿”å›æ¨¡å— ç¼“å­˜ç­–ç•¥ï¼š é¢„æ„å»ºä¾èµ–ï¼ˆnode_modulesï¼‰ä¼šè¢«ç¼“å­˜åˆ° node_modules/.vite æºç æ–‡ä»¶ä½¿ç”¨å¼ºç¼“å­˜ï¼ˆCache-Control: max-age=31536000ï¼‰ ä¿®æ”¹æ–‡ä»¶åé€šè¿‡ WebSocket é€šçŸ¥æµè§ˆå™¨å¤±æ•ˆç¼“å­˜ ç”Ÿäº§æ„å»º (pnpm build) æ„å»ºè¿‡ç¨‹ï¼š ä½¿ç”¨ Rollup è¿›è¡Œæ‰“åŒ… è‡ªåŠ¨åº”ç”¨ tree-shaking ç§»é™¤æœªä½¿ç”¨ä»£ç  æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼ˆESMã€IIFEã€UMDï¼‰ æ„å»ºå®Œæˆåï¼Œpublic ç›®å½•ä¸‹çš„å†…å®¹ä¼šè¢«å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ä¸­ ä»£ç åˆ†å‰²ç­–ç•¥ï¼š åŠ¨æ€å¯¼å…¥ï¼ˆimport()ï¼‰è‡ªåŠ¨åˆ›å»ºå•ç‹¬ chunk æ”¯æŒæ‰‹åŠ¨é…ç½® manualChunks ä¼˜åŒ–åˆ†åŒ… CSS è‡ªåŠ¨æå–åˆ°å•ç‹¬æ–‡ä»¶ æ€§èƒ½ä¼˜åŒ–ï¼š ä½¿ç”¨ esbuild è¿›è¡Œæœ€å°åŒ–ï¼ˆæ¯” Terser å¿« 20-40 å€ï¼‰ Brotli/Gzip å‹ç¼©æ”¯æŒ æ”¯æŒå¼‚æ­¥ chunk åŠ è½½ä¼˜åŒ– ç›‘å¬æ¨¡å¼ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œæ„å»ºå®Œæˆåä¸ä¼šæŒç»­ç›‘å¬æ–‡ä»¶å˜åŒ– æ·»åŠ  -w å‚æ•°ï¼ˆpnpm build -wï¼‰ä¼šå¯ç”¨æŒç»­ç›‘å¬å¹¶è‡ªåŠ¨é‡æ–°æ„å»º ç¯å¢ƒå˜é‡ vite build é»˜è®¤è¿è¡Œç”Ÿäº§æ¨¡å¼æ„å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸åŒçš„æ¨¡å¼å’Œå¯¹åº”çš„ .env æ–‡ä»¶é…ç½®æ¥æ”¹å˜å®ƒï¼Œç”¨ä»¥è¿è¡Œå¼€å‘æ¨¡å¼çš„æ„å»ºã€‚ import.meta.env.DEV: æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒ(NODE_ENV=development) import.meta.env.PROD: æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒ(NODE_ENV=production) æ¨¡å¼æ‰©å±•ï¼š // vite.config.js export default defineConfig({ define: { __APP_VERSION__: JSON.stringify(process.env.npm_package_version) } }) æ™ºèƒ½ç±»å‹æç¤ºï¼š åˆ›å»º src/env.d.ts è·å¾—ç±»å‹æç¤ºï¼š interface ImportMetaEnv { readonly VITE_API_URL: string readonly DEV: boolean readonly PROD: boolean } ç¯å¢ƒå˜é‡è½¬æ¢ï¼š åªæœ‰ VITE_ å‰ç¼€çš„å˜é‡ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯ ä½¿ç”¨ dotenv-expand æ”¯æŒå˜é‡æ‰©å±• æ”¯æŒ .env.local è¦†ç›–æœºåˆ¶ Rollup ä»£ç åˆ†å‰² åˆ†åŒ…ç­–ç•¥è¿›é˜¶ è‡ªåŠ¨åˆ†åŒ…ç®—æ³•ï¼š function autoChunk(id) { if (id.includes('node_modules')) { return 'vendor' } if (id.includes('src/utils')) { return 'utils' } } ä¾èµ–åˆ†æä¼˜åŒ–ï¼š ä½¿ç”¨ rollup-plugin-visualizer åˆ†æåŒ…å¤§å° é€šè¿‡ getModuleInfo è·å–æ¨¡å—å¼•ç”¨å…³ç³» åŠ¨æ€è°ƒæ•´ chunk åˆ†å‰²é˜ˆå€¼ è§£å†³å¾ªç¯ä¾èµ–ï¼š function stableChunk(id, { getModuleInfo }) { const moduleInfo = getModuleInfo(id) if (moduleInfo.importers.some(imp => imp.isEntry)) { return 'main' } } å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ Chunk ç¢ç‰‡é—®é¢˜ï¼š è®¾ç½®æœ€å° chunk å¤§å°é˜ˆå€¼ï¼ˆå¦‚ 10KBï¼‰ åˆå¹¶å¸¸ç”¨å·¥å…·å‡½æ•°åˆ°å…±äº« chunk ä½¿ç”¨ rollupOptions.output.minChunkSize é…ç½® å¾ªç¯å¼•ç”¨æŠ¥é”™ï¼š manualChunks(id, { getModuleInfo }) { if (id.includes('react')) return 'react' if (id.includes('lodash')) return 'lodash' } åŠ¨æ€å¯¼å…¥ä¼˜åŒ–ï¼š // ä½¿ç”¨ /* webpackChunkName: \"name\" */ æ³¨é‡Š import(/* webpackChunkName: \"chart\" */ './chart') æ€§èƒ½ä¼˜åŒ– å¼€å‘ç¯å¢ƒæé€Ÿ ä¾èµ–é¢„æ„å»ºï¼š é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ å°† CJS æ¨¡å—è½¬æ¢ä¸º ESM åˆå¹¶å¤šä¸ªå°æ–‡ä»¶å‡å°‘è¯·æ±‚ é…ç½®ä¼˜åŒ–ï¼š export default defineConfig({ optimizeDeps: { include: ['lodash-es', 'axios'] } }) å†·å¯åŠ¨é—®é¢˜ï¼š ä½¿ç”¨ vite-plugin-optimize-persist æŒä¹…åŒ–ä¼˜åŒ– é¢„é…ç½®å¸¸ç”¨ä¾èµ– ç”Ÿäº§ç¯å¢ƒä¼˜åŒ– å¼‚æ­¥åŠ è½½ä¼˜åŒ–ï¼š // vite.config.js export default defineConfig({ build: { rollupOptions: { output: { manualChunks: { 'react-vendor': ['react', 'react-dom'], 'chart': ['echarts'] } } } } }) èµ„æºå†…è”ï¼š CDN åŠ é€Ÿï¼š export default defineConfig({ build: { rollupOptions: { external: ['react'], output: { globals: { react: 'React' } } } } }) Vite 3 â†’ 4 ç‰ˆæœ¬è¿ç§» å‡çº§æ­¥éª¤ï¼š vite å®‰è£… 4 åï¼Œæ‰§è¡Œ pnpm i æŸ¥çœ‹ç›¸å¯¹åº”çš„ peer ä¾èµ–åº”è¯¥æ˜¯å¤šå°‘ã€‚ è”åŠ¨ peer ä¾èµ–æ›´æ–°ï¼Œæ¯”å¦‚ï¼švitejs/plugin-vue vitejs/plugin-vue-jsx unplugin-icons unplugins-element-plus æµ‹è¯•é¡µé¢ å¯ä»¥è§£å†³ï¼š å¼€å‘ç¯å¢ƒé¡µé¢åŠ è½½é—®é¢˜æ…¢ å‡ºç°çš„é—®é¢˜ï¼š element-ui ä¸‹æ‹‰æ¡†ç»„ä»¶å‡ºç°å¼‚å¸¸ï¼Œä¸ ui ç‰ˆæœ¬æœ‰å…³ã€‚ element-plus el-select updateOptions emit æŠ¥é”™ï¼š[Vue warn]: Extraneous non-emits event listeners (updatedcount) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option ç›®å‰è§£å†³ï¼šå°† element-plus é™çº§åˆ°æ²¡æœ‰ updateOptions emit å³ 2.2.32 æ¢å¤æ­£å¸¸ã€‚è¿˜åŸç›¸åŒç¯å¢ƒæµ‹è¯• vue ç›¸å…³çš„ emit æ— é—®é¢˜ï¼Œåº”è¯¥æ˜¯ element-plus é—®é¢˜ï¼Œå…·ä½“é—®é¢˜å¾…ç¡®å®šã€‚ // ä¸´æ—¶è§£å†³æ–¹æ¡ˆ import { ElSelect } from 'element-plus' delete ElSelect.emits å¸¸è§é—®é¢˜æ’æŸ¥ HMR å¤±æ•ˆï¼š æ£€æŸ¥ WebSocket è¿æ¥çŠ¶æ€ éªŒè¯æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶æ˜¯å¦è§¦å‘ ç¡®ä¿æ²¡æœ‰æµè§ˆå™¨æ‰©å±•å¹²æ‰° æ„å»ºæ€§èƒ½åˆ†æï¼š vite build --profile ä¾èµ–è§£æé—®é¢˜ï¼š export default defineConfig({ resolve: { alias: { '@': path.resolve(__dirname, 'src') } } }) Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:14:46 "},"æŠ€æœ¯ä¼˜åŒ–/nodeå†…å­˜æº¢å‡º.html":{"url":"æŠ€æœ¯ä¼˜åŒ–/nodeå†…å­˜æº¢å‡º.html","title":"nodeå†…å­˜æº¢å‡º","keywords":"","body":"node å†…å­˜æº¢å‡ºé—®é¢˜ Node è¿›ç¨‹çš„å†…å­˜é™åˆ¶æ˜¯æœ‰é™çš„ï¼Œå½“å‰åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒV8 åœ¨ 32 ä½ç³»ç»Ÿä¸Šçš„å†…å­˜é™åˆ¶ä¸º 512mbï¼Œåœ¨ 64 ä½ç³»ç»Ÿä¸Šçš„å†…å­˜é™åˆ¶ä¸º 1gbï¼Œæ‰€ä»¥æœ‰äº›é¡¹ç›®åœ¨åŠ äº† Babel ååœ¨æ„å»ºæ—¶å¯èƒ½ä¼šå‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚å¯ä»¥é€šè¿‡å°† --max-old-space-size çš„å€¼æé«˜ï¼Œä½†æ˜¯å¦‚æœè¾¾åˆ°å†…å­˜é™åˆ¶ï¼Œè¿˜å¯ä»¥å°†å•ä¸ªè¿›ç¨‹æ‹†åˆ†ä¸ºå¤šä¸ªå·¥ä½œè¿›ç¨‹ã€‚ è§£å†³æ–¹æ³• windows æ–¹å¼ä¸€ï¼šVSCode å·¥ä½œåŒºè®¾ç½® .vscode/settings.json { \"terminal.integrated.env.windows\": { \"node_options\": \"--max_old_space_size=3072\" } } æ–¹å¼äºŒï¼šåœ¨ package.json ä¸­è®¾ç½® package.json \"scripts\": { \"serve\": \"vue-cli-service serve --max_old_space_size=3072\", } æ–¹å¼ä¸‰ï¼šåœ¨ç»ˆç«¯è¿›ç¨‹ä¸­è®¾ç½® set NODE_OPTIONS=--max-old-space-size= // å•å¼€ç»ˆç«¯ export NODE_OPTIONS=\"--max-old-space-size=8192\" // æ°¸ä¹…ç»ˆç«¯ macos macos åœ¨.bash_profile ä¸‹åŠ å…¥ export NODE_OPTIONS=--max_old_space_size=3072 https://www.cnblogs.com/caofeng11/p/13160416.html windows å’Œ macos é€šç”¨çš„æ–¹å¼ï¼Œä½¿ç”¨ cross-env è·¨å¹³å°è®¾ç½®ç¯å¢ƒå˜é‡ npm install -D cross-env \"scripts\": { \"serve\": \"cross-env NODE_OPTIONS=--max_old_space_size=3072 vue-cli-service serve\", }, https://blog.csdn.net/wuyujin1997/article/details/122869951 æ›´å¤šå¯å‚è€ƒï¼š è¯¦ç»†é…ç½® nodejs è®¾ç½®åº”ç”¨çš„å†…å­˜ä¸Šé™ NODE_OPTIONS=--max-old-space-size=8192 node å†…å­˜æº¢å‡ºäº†ï¼Ÿ çœ‹çœ‹è¿™ç¯‡ã€‚ å…¶ä»– Node.js heap out of memory å‡çº§ node ç‰ˆæœ¬ è¿è¡Œä»¥ä¸‹å‘½ä»¤ npm install -g increase-memory-limit increase-memory-limit https://stackoverflow.com/questions/38558989/node-js-heap-out-of-memory Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"æŠ€æœ¯ä¼˜åŒ–/vue-cli3.xé¡¹ç›®webpackä¼˜åŒ–.html":{"url":"æŠ€æœ¯ä¼˜åŒ–/vue-cli3.xé¡¹ç›®webpackä¼˜åŒ–.html","title":"vue-cli3.xé¡¹ç›®webpackä¼˜åŒ–","keywords":"","body":"vue-cli3.x é¡¹ç›® webpack ä¼˜åŒ– terser-webpack-plugin è¯¥æ’ä»¶å¯ä»¥å‹ç¼© JavaScrip å’Œåœ¨æ„å»ºæ—¶ä¸€é”®å»æ‰è°ƒè¯•æ‰“å°è¯­å¥ å®‰è£…ï¼š $ npm install terser-webpack-plugin@3.1.0 --save-dev é…ç½®ï¼š vue.config.js const TerserPlugin = require('terser-webpack-plugin') configureWebpack: config => { if (process.env.NODE_ENV === 'production') { return { optimization: { minimize: true, minimizer: [ new TerserPlugin({ cache: true, parallel: true, sourceMap: false, terserOptions: { compress: { drop_console: true, drop_debugger: true, // pure_funcs: ['console.log'], // ç§»é™¤console }, }, }), ], }, } } å‚è€ƒé“¾æ¥ï¼š https://v4.webpack.docschina.org/configuration/optimization/#optimization-minimizer https://github.com/webpack-contrib/terser-webpack-plugin https://github.com/terser/terser#minify-options compression-webpack-plugin å‹ç¼©é™æ€èµ„æºï¼ŒæœåŠ¡ç«¯åœ¨ Nginx å¼€å¯ Gzip å±æ€§ã€‚Nginx åœ¨è®¿é—®èµ„æºæ—¶ï¼Œå¦‚æœè¯¥èµ„æºæœ‰ gz æ–‡ä»¶ï¼Œåˆ™ä¼šè¯·æ±‚ gz æ–‡ä»¶ã€‚ å®‰è£…ï¼š $ npm install compression-webpack-plugin --save-dev é…ç½®ï¼š vue.config.js const CompressionPlugin = require('compression-webpack-plugin') // å¼•å…¥gzip configureWebpack: config => { if (process.env.NODE_ENV === 'production') { return { plugins: [ // æ·»åŠ gzip new CompressionPlugin({ test: /\\.js$|\\.html$|\\.css/, threshold: 10240, deleteOriginalAssets: false }), ] } } å‚è€ƒï¼š https://v4.webpack.js.org/plugins/compression-webpack-plugin/ åˆ†ææ‰“åŒ…é€Ÿåº¦ speed-measure-webpack-plugin https://github.com/stephencookdev/speed-measure-webpack-plugin åªé’ˆå¯¹ plugins Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"æŠ€æœ¯ä¼˜åŒ–/web-worker.html":{"url":"æŠ€æœ¯ä¼˜åŒ–/web-worker.html","title":"Web Worker","keywords":"","body":"webworker ä¸€ä¸ªç‹¬ç«‹äº JavaScript ä¸»çº¿ç¨‹çš„ç‹¬ç«‹çº¿ç¨‹ï¼Œåœ¨é‡Œé¢æ‰§è¡Œéœ€è¦æ¶ˆè€—å¤§é‡èµ„æºçš„æ“ä½œä¸ä¼šå µå¡ä¸»çº¿ç¨‹ã€‚ JavaScript æ˜¯å•çº¿ç¨‹çš„è¯­è¨€ï¼Œå¦‚æœåœ¨æµè§ˆå™¨ä¸­éœ€è¦æ‰§è¡Œä¸€äº›å¤§æ•°æ®é‡çš„è®¡ç®—ï¼Œé¡µé¢ä¸Šçš„å…¶ä»–æ“ä½œå°±ä¼šå› ä¸ºæ¥ä¸åŠå“åº”è€Œå‡ºç°å¡é¡¿çš„æƒ…å†µï¼ŒWeb Worker çš„å‡ºç°ä¸º js æä¾›äº†ä¸€ä¸ªå¤šçº¿ç¨‹çš„ç¯å¢ƒï¼Œè®©æ›´å¤šå¤æ‚è®¡ç®—æ‹¿åˆ°å¦ä¸€ä¸ªç¯å¢ƒä¸­å»å®Œæˆï¼Œè®¡ç®—å®Œä¹‹åå†æä¾›ç»™ä¸»è¿›ç¨‹ä½¿ç”¨ï¼Œå‰ç«¯é¡µé¢å¯ä»¥åªè´Ÿè´£ç•Œé¢æ¸²æŸ“ï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´æµç•…ã€‚ Web Worker æ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸€è§„èŒƒå®šä¹‰äº†ä¸€å¥— APIï¼Œå…è®¸æˆ‘ä»¬åœ¨ js ä¸»çº¿ç¨‹ä¹‹å¤–å¼€è¾Ÿæ–°çš„ Worker çº¿ç¨‹ï¼Œå¹¶å°†ä¸€æ®µ js è„šæœ¬è¿è¡Œå…¶ä¸­ï¼Œå®ƒèµ‹äºˆäº†å¼€å‘è€…åˆ©ç”¨ js æ“ä½œå¤šçº¿ç¨‹çš„èƒ½åŠ›ã€‚ Web Worker åœ¨å¤„ç†ä¸€äº›å¤æ‚çš„è®¡ç®—æˆ–è€—æ—¶çš„ä»»åŠ¡æ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æé«˜ç½‘é¡µçš„æ€§èƒ½å’Œå“åº”èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå®ƒå¹¶ä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚æ¥å†³å®šæ˜¯å¦ä½¿ç”¨ Web Workerã€‚ web workers å·²ç»è¢«å¤§å¤šæ•°æµè§ˆå™¨æ”¯æŒï¼Œä½¿ç”¨ä¸ŠåŸºæœ¬ä¸ç”¨è€ƒè™‘å…¼å®¹é—®é¢˜ã€‚ ä½¿ç”¨é™åˆ¶ åŒæºé™åˆ¶ æ¥å£é™åˆ¶ï¼ˆç”±äº Web Worker è¿è¡Œåœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­ï¼Œå®ƒæ— æ³•ç›´æ¥è®¿é—®ä¸»çº¿ç¨‹çš„ DOMã€å…¨å±€å˜é‡å’Œå¤§å¤šæ•°æµè§ˆå™¨ APIã€‚window ä½œç”¨åŸŸä¸‹çš„éƒ¨åˆ†æ–¹æ³•ä¸å¯ä½¿ç”¨ï¼Œå¦‚ DOM å¯¹è±¡ã€window.alert å’Œ window.confirm ç­‰æ–¹æ³•ã€‚ï¼‰ æ–‡ä»¶é™åˆ¶ï¼ˆæ— æ³•åŠ è½½æœ¬åœ° js æ–‡ä»¶ï¼Œå¿…é¡»ä½¿ç”¨çº¿ä¸Šåœ°å€ã€‚ï¼‰ è®°å¾—å…³é—­ï¼ˆworker ä¼šå ç”¨ä¸€å®šçš„ç³»ç»Ÿèµ„æºï¼Œåœ¨ç›¸å…³çš„åŠŸèƒ½æ‰§è¡Œå®Œä¹‹åï¼Œä¸€å®šè¦è®°å¾—å…³é—­ workerï¼Œæ— è®ºæ˜¯åœ¨ä¸»çº¿ç¨‹å…³é—­ workerï¼Œè¿˜æ˜¯åœ¨ worker çº¿ç¨‹å†…éƒ¨å…³é—­ workerï¼Œworker çº¿ç¨‹å½“å‰çš„ Event Loop ä¸­çš„ä»»åŠ¡ä¼šç»§ç»­æ‰§è¡Œã€‚è‡³äº worker çº¿ç¨‹ä¸‹ä¸€ä¸ª Event Loop ä¸­çš„ä»»åŠ¡ï¼Œåˆ™ä¼šè¢«ç›´æ¥å¿½ç•¥ï¼Œä¸ä¼šç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯åœ¨ä¸»çº¿ç¨‹å…³é—­åˆ™é€šä¿¡ä¼šè¢«å…³é—­ï¼Œä¸ä¼šå†æ¥æ”¶åˆ°ä¿¡æ¯ï¼Œworker çº¿ç¨‹å…³é—­åˆ™ä¼šåœ¨å½“å‰ Event Loop ä¸­æ¥æ”¶ï¼‰ ä½¿ç”¨æ—¶æ³¨æ„ this æŒ‡å‘ webworker çš„ä½¿ç”¨ é€šè¿‡ postMessage å®ç°ä¸»çº¿ç¨‹å’Œ Web Worker åŒå‘é€šä¿¡ å…³é”®ä»£ç ï¼š const worker = new Worker('xx url') worker.onmessage = (e) => {e.data} worker.postMessage('xxx') worker.addEventListener(event: 'error' | 'messageerror', (err) => {}) worker.terminate() self.onmessage = (e) => {e.data} self.postMessage('xxx') self.addEventListener(event: 'error' | 'messageerror', (err) => {}) self.close() import React, { Component } from 'react' import worker_script from './worker-script' export default class PageHome extends Component { constructor(props) { super(props) this.state = {} } componentDidMount() { const worker = new Worker(worker_script) worker.postMessage('dadada') worker.onmessage = function (event) { console.log(`Received message ${event.data}`) // æ‰§è¡Œå®Œäº†ä»¥åå…³é—­ webworker // worker.terminate() } } } worker-script.js const workercode = () => { // åœ¨åå°æ‰§è¡Œä»»åŠ¡ self.onmessage = function (e) { console.log('Message received from main script') let workerResult = performData(e.data) self.postMessage(workerResult) } function performData(data) { // æ‰§è¡Œè€—æ—¶çš„æŸäº›æ“ä½œ return `Received from main: ${data}` } } // åœ¨çº¿ç”ŸæˆåŒæºçº¿ä¸Šåœ°å€ let code = workercode.toString() code = code.substring(code.indexOf('{') + 1, code.lastIndexOf('}')) const blob = new Blob([code], { type: 'application/javascript' }) const worker_script = URL.createObjectURL(blob) export default worker_script @koale/useworker react hooks import React from 'react' import { useWorker } from '@koale/useworker' const numbers = [...Array(5000000)].map(e => ~~(Math.random() * 1000000)) const sortNumbers = nums => nums.sort() const Example = () => { const [sortWorker] = useWorker(sortNumbers) const runSort = async () => { const result = await sortWorker(numbers) // non-blocking UI console.log(result) } return ( Run Sort ) } å‚è€ƒ https://juejin.cn/post/7139718200177983524 Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"è·¨ç«¯æ–¹æ¡ˆ/":{"url":"è·¨ç«¯æ–¹æ¡ˆ/","title":"è·¨ç«¯æ–¹æ¡ˆ","keywords":"","body":"[è¯‘] React Native vs. Cordovaã€PhoneGapã€Ionicï¼Œç­‰ç­‰ åŸç”Ÿçš„å®šä¹‰ è½¯ä»¶æ˜¯å…³äºå¦‚ä½•æ“ä½œå¤§é‡æ™¶ä½“ç®¡å’Œç”µè·¯ (ä¸¤è€…ç»Ÿç§°ä¸ºç¡¬ä»¶) çš„æŒ‡ä»¤çš„é›†åˆã€‚ç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶ä¸Šçš„åŸå§‹æŒ‡ä»¤å¯¹æˆ‘ä»¬äººç±»æ¥è¯´æ˜¯å‡ ä¹æ— æ³•ç†è§£çš„, ç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°å½“ä»Šè®¡ç®—æœºçš„å¤æ‚æ€§å’Œè§„æ¨¡ã€‚ è¦ä½¿å¾—è½¯ä»¶å¯ä»¥ç†è§£å’Œæ“ä½œçš„è¯ï¼Œè®¡ç®—æœºç§‘å­¦å®¶å°†å…¶åˆ’åˆ†ä¸ºå¤šä¸ªå±‚ï¼Œè¿™äº›å±‚å‡æ˜¯ç”±æ¡†æ¶æ„æˆçš„ï¼Œæ¯ä¸ªæ¡†æ¶éƒ½è¿è¡Œåœ¨å¦ä¸€ä¸ªæ¡†æ¶ä¹‹ä¸Šã€‚åœ¨æ‰€æœ‰æ¡†æ¶ä¸­ï¼Œè¶Šæ¥è¿‘ç¡¬ä»¶çš„æ¡†æ¶ï¼Œæˆ‘ä»¬å°±è¯´å®ƒæ›´â€œåŸç”Ÿâ€ã€‚ ä¸¥æ ¼æ¥è¯´ï¼Œæˆ‘ä»¬æ— æ³•è¯´ä¸€ä¸ªåº”ç”¨æœ¬èº«æ˜¯å¦æ˜¯åŸç”Ÿçš„ã€‚æˆ‘ä»¬åªèƒ½è¯´ï¼Œç›¸æ¯”äºå¦ä¸€ä¸ªåº”ç”¨ï¼Œå®ƒæ˜¯æ›´åŸç”Ÿçš„ã€‚ æ¡†æ¶ åœ¨ React Native å‡ºç°ä¹‹å‰ï¼Œç§»åŠ¨ç«¯æ¡†æ¶ä¸€èˆ¬åˆ†ä¸ºä¸¤ä¸ªé˜µè¥ã€‚ é¦–å…ˆæ˜¯åŸç”Ÿé˜µè¥ï¼Œä¾‹å¦‚å®‰å“çš„ Java/Kotlin å’Œ IOS çš„ Objective-C/Swift ã€‚ å¦å¤–ä¸€ä¸ªé˜µè¥å°±æ˜¯ä»¥ Cordova/PhoneGap å’Œ Ionic ä¸ºä»£è¡¨çš„ WebView æ¡†æ¶ã€‚WebView æ¡†æ¶æ˜¯åœ¨åŸç”Ÿæ¡†æ¶ä¹‹ä¸Šæ„å»ºçš„ï¼Œç±»ä¼¼äº web æµè§ˆå™¨ï¼Œå¯ä»¥åŒæ—¶è¿è¡Œåœ¨å®‰å“å’Œ IOS å¹³å°ä¸Š(è¿˜å¯ä»¥æœ‰æ›´å¤šå¹³å°)ã€‚è¿™äº›æ¡†æ¶å¯ä»¥è®© Web å¼€å‘äººå‘˜ä½¿ç”¨ä»–ä»¬å·²ç»å…·å¤‡çš„ HTMLã€CSS å’Œ JavaScript æŠ€èƒ½æ¥å¼€å‘åº”ç”¨ã€‚ä½†æ˜¯ï¼Œç›¸æ¯”äºåŸç”Ÿåº”ç”¨ï¼Œè¿™ç±»åº”ç”¨ä¼šæ²¡æœ‰é‚£ä¹ˆæµç•…ï¼Œèƒ½è®¿é—®çš„ç¡¬ä»¶åŠŸèƒ½ä¹Ÿæœ‰é™ã€‚ React Native ä»£è¡¨çš„æ˜¯ç§»åŠ¨ç«¯æ¡†æ¶çš„ç¬¬ä¸‰é˜µè¥ã€‚React Native ç›´æ¥è¿è¡Œåœ¨åŸç”Ÿæ¡†æ¶é‡Œï¼Œå®ƒçš„ UI å±‚è¦æ¯” WebView æ¡†æ¶æ›´åŸç”Ÿï¼Œè€Œå…¶ä½™éƒ¨åˆ†å¤„äºæ¨¡æ‹Ÿå±‚ï¼Œä»¥å®ç°å…¶æ˜“ç”¨æ€§ã€‚ WebView æ¡†æ¶ åŸºäº HTML5 çš„è·¨å¹³å°æŠ€æœ¯æ¯”è¾ƒå‡ºåçš„æœ‰ PhoneGapã€Cordovaï¼Œå¸¸å¸¸ç”¨äºå¼€å‘ webappï¼Œè¿˜æœ‰ Egretã€Cocos-creatorã€Unityã€weexã€uniapp ç­‰ï¼Œå¸¸ç”¨äºå¼€å‘æ¸¸æˆï¼›è¿˜æœ‰åŸºäº node çš„ nw.jsï¼Œç”¨äºå¼€å‘æ¡Œé¢åº”ç”¨ï¼Œä»¥åŠ Electronï¼Œä¸€æ¬¾æ¯” nw.js è¿˜å¼ºå¤§çš„ç”¨ç½‘é¡µæŠ€æœ¯æ¥å¼€å‘æ¡Œé¢åº”ç”¨çš„ç¥å™¨ã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"è·¨ç«¯æ–¹æ¡ˆ/apicloud.html":{"url":"è·¨ç«¯æ–¹æ¡ˆ/apicloud.html","title":"Apicloud","keywords":"","body":"apicloud éœ€ä»˜è´¹çš„å¯è§†åŒ–ä½ä»£ç å¼€å‘è¿è¥å¹³å° web app æ­å»ºæµç¨‹ å‡†å¤‡å·¥ä½œ æ‰‹æœºå®‰è£… Apploaderï¼Œæ”¯æŒ Android & iOS ç”µè„‘å®‰è£…ç¼–è¾‘å™¨ APICloud Studio 3ï¼Œå®‰è£…å¥½ä»¥ä¸Šä¸¤ä¸ªè½¯ä»¶åå¯ç”¨äº APP å¼€å‘è¿‡ç¨‹çš„çœŸæœºå¿«é€Ÿè°ƒè¯• åœ¨apicloudåˆ›å»ºè´¦å· ä½¿ç”¨ åœ¨ç¼–è¾‘å™¨ç™»å½•è´¦å·ï¼Œæ–°å»º Native App é¡¹ç›®åå³å¯åŒæ­¥åˆ°äº‘æ§åˆ¶å°ï¼Œé¡¹ç›®ä¸­åªä¿ç•™é¡¹ç›®ä¸­config.xmlæ–‡ä»¶ config.xml èŠ‚é€‰éƒ¨åˆ†ï¼Œå…³é”®çœ‹ä»¥ä¸‹é…ç½® // éœ€è¦è·Ÿäº‘é¡¹ç›®ä¸­idä¸€è‡´ // é“¾æ¥å¯¹å…¥å£æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯å±€åŸŸç½‘ipæˆ–ç¼–è¯‘å¥½çš„é¡¹ç›®æ–‡ä»¶å…¥å£ çœŸæœºè°ƒè¯• ä»¥ vue-cli4 é¡¹ç›®ä¸ºä¾‹ï¼Œæ‰“åŒ…å‰éœ€ä¿®æ”¹ä»¥ä¸‹åœ°æ–¹ï¼š è·¯ç”±é…ç½®ä¸º hash æ¨¡å¼ é…ç½® vue.config.js æ–‡ä»¶ï¼š publicPath: './' å¤šé¡µé¢é…ç½® wifi åŒæ­¥ï¼šé“¾æ¥é¡¹ç›®å…¥å£åï¼Œå³é”®é¡¹ç›®æ ¹è·¯å¾„æ‰“å¼€ WIFI åŒæ­¥ æ•™ç¨‹ æ–°æ‰‹å¼€å‘æŒ‡å—ï¼šhttps://docs.apicloud.com/APICloud/junior-develop-guide å®˜æ–¹æ•™ç¨‹ï¼šhttps://www.apicloud.com/video_list#plugins å›¾æ–‡æ•™ç¨‹ï¼šhttps://juejin.cn/post/6973441944374476831#heading-0 Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"è·¨ç«¯æ–¹æ¡ˆ/electron.html":{"url":"è·¨ç«¯æ–¹æ¡ˆ/electron.html","title":"Electron","keywords":"","body":"electron æ¦‚è¿° Electronæ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScriptã€HTML å’Œ CSS æ„å»ºè·¨å¹³å°æ¡Œé¢åº”ç”¨çš„å¼€æºæ¡†æ¶ã€‚å®ƒé€šè¿‡å°† Chromium å’Œ Node.js åˆå¹¶åˆ°åŒä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒä¸­ï¼Œå¹¶ä¸ºæ“ä½œç³»ç»Ÿæœ¬åœ°åŠŸèƒ½æä¾›ä¸€å¥—ä¸°å¯Œçš„APIï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ²¿ç”¨WebæŠ€æœ¯æ ˆï¼Œè½»æ¾æ„å»ºåŠŸèƒ½å¼ºå¤§çš„æ¡Œé¢åº”ç”¨ã€‚ æ ¸å¿ƒæ¦‚å¿µï¼šä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ Electronåº”ç”¨çš„æ ¸å¿ƒæ¶æ„åŸºäºä¸¤ç§è¿›ç¨‹ï¼šä¸»è¿›ç¨‹ï¼ˆMain Processï¼‰å’Œæ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰ã€‚ ğŸŒ°ï¼šä»¥ electron ä¸ºä¾‹ï¼š ä¸»è¿›ç¨‹ï¼šæ¯ä¸ªElectronåº”ç”¨æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä¸»è¿›ç¨‹ã€‚å®ƒä½œä¸ºåº”ç”¨çš„å…¥å£ç‚¹ï¼Œåœ¨Node.jsç¯å¢ƒä¸­è¿è¡Œï¼Œè´Ÿè´£ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€åˆ›å»ºå’Œç®¡ç†çª—å£ï¼ˆBrowserWindowå®ä¾‹ï¼‰ã€å¤„ç†åŸç”Ÿæ“ä½œç³»ç»Ÿäº¤äº’ï¼ˆå¦‚èœå•ã€å¯¹è¯æ¡†ã€æ‰˜ç›˜å›¾æ ‡ç­‰ï¼‰ã€‚ä¸»è¿›ç¨‹æ˜¯æ‰€æœ‰æ¸²æŸ“è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œå¹¶æŒç®¡ç€ç³»ç»Ÿèµ„æºã€‚ åœ¨é¡¹ç›®ä¸­ï¼Œindex.js å°±æ˜¯ä¸»è¿›ç¨‹çš„è„šæœ¬ã€‚å®ƒè´Ÿè´£åˆ›å»ºåº”ç”¨çª—å£ã€å¤„ç†çª—å£å…³é—­ç­‰äº‹ä»¶ã€‚ // index.js const { app, BrowserWindow } = require('electron') function createWindow() { const win = new BrowserWindow({ /* ... */ }) win.loadFile('./dist/index.html') // ... } app.on('ready', createWindow) æ¸²æŸ“è¿›ç¨‹ï¼šæ¯ä¸ªé€šè¿‡BrowserWindowåŠ è½½çš„ç½‘é¡µéƒ½åœ¨å…¶è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ä¸­è¿è¡Œã€‚æ¸²æŸ“è¿›ç¨‹è´Ÿè´£UIçš„æ¸²æŸ“ï¼Œå®ƒè¿è¡Œåœ¨Chromiumç¯å¢ƒä¸­ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ‰€æœ‰æµè§ˆå™¨APIï¼Œå¦‚documentã€windowç­‰ã€‚æ­¤å¤–ï¼Œé€šè¿‡Electronçš„ç‰¹æ®Šå¤„ç†ï¼Œæ¸²æŸ“è¿›ç¨‹ä¹Ÿèƒ½å¤Ÿè®¿é—®Node.jsæ¨¡å—ï¼Œè¿™æå¤§åœ°æ‰©å±•äº†å…¶èƒ½åŠ›ã€‚ é¡¹ç›®ä¸­çš„src/feature/WriteAndRead/index.htmlåŠå…¶å…³è”çš„index.jså°±è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ã€‚ // æ¸²æŸ“è¿›ç¨‹å¯ä»¥ç›´æ¥è®¿é—®DOM const btn = document.getElementById('btn'); btn.onclick = () => { /* ... */ }; Node.jsé›†æˆï¼šæ‰“ç ´æµè§ˆå™¨æ²™ç®± Electronæœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œå°±æ˜¯åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­æ— ç¼é›†æˆäº†Node.jsã€‚è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥åœ¨UIä»£ç ä¸­ç›´æ¥è°ƒç”¨Node.jsçš„APIï¼Œä¾‹å¦‚æ–‡ä»¶ç³»ç»Ÿï¼ˆfsï¼‰ã€è·¯å¾„å¤„ç†ï¼ˆpathï¼‰ç­‰ï¼Œè€Œæ— éœ€æ­å»ºå¤æ‚çš„åç«¯æœåŠ¡ã€‚ åœ¨ç¤ºä¾‹ä¸­ï¼Œsrc/feature/WriteAndRead/index.jså°±ç›´æ¥ä½¿ç”¨äº†Node.jsçš„fsæ¨¡å—æ¥è¯»å†™æœ¬åœ°æ–‡ä»¶ï¼š // src/feature/WriteAndRead/index.js const fs = require('fs'); const path = require('path'); function readFile() { fs.readFile(path.join(__dirname, '/simple.txt'), (err, data) => { // ... }); } å®‰å…¨æç¤ºï¼šåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ç›´æ¥ä½¿ç”¨Node.jsèƒ½åŠ›è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å®‰å…¨é£é™©ã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦åŠ è½½å’Œæ‰§è¡Œè¿œç¨‹ç½‘é¡µå†…å®¹ï¼Œè¯·åŠ¡å¿…å¼€å¯nodeIntegration: falseå’ŒcontextIsolation: trueï¼Œå¹¶é€šè¿‡preloadè„šæœ¬æ¥å®‰å…¨åœ°æš´éœ²ç‰¹å®šAPIç»™æ¸²æŸ“è¿›ç¨‹ï¼Œä»¥é˜²æ­¢æ¶æ„ä»£ç è®¿é—®ç³»ç»Ÿèµ„æºã€‚ è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ è™½ç„¶ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹å„å¸å…¶èŒï¼Œä½†å®ƒä»¬ä¹‹é—´ç»å¸¸éœ€è¦é€šä¿¡ã€‚Electronæä¾›äº†å¤šç§è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœºåˆ¶ï¼š ipcMain å’Œ ipcRendererï¼šè¿™æ˜¯æœ€å¸¸ç”¨çš„ä¸€å¯¹æ¨¡å—ï¼Œç”¨äºåœ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´å‘é€å’Œæ¥æ”¶å¼‚æ­¥æˆ–åŒæ­¥æ¶ˆæ¯ã€‚ remoteæ¨¡å—ï¼ˆå·²åºŸå¼ƒï¼‰ï¼šremoteæ¨¡å—æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è°ƒç”¨ä¸»è¿›ç¨‹çš„æ¨¡å—å’Œæ–¹æ³•ï¼Œå¦‚åŒæœ¬åœ°å¯¹è±¡ä¸€æ ·ã€‚åœ¨é¡¹ç›®ä¸­å°±ä½¿ç”¨äº†remoteæ¨¡å—æ¥åˆ›å»ºæ–°çª—å£ï¼š // src/feature/WriteAndRead/index.html const { BrowserWindow } = require('electron').remote; const newWin = new BrowserWindow({ /* ... */ }); æ³¨æ„ï¼šç”±äºæ€§èƒ½å’Œå®‰å…¨åŸå› ï¼Œremoteæ¨¡å—åœ¨Electron 12ä¹‹åå·²è¢«åºŸå¼ƒï¼Œå¹¶è®¡åˆ’åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ç§»é™¤ã€‚å®˜æ–¹æ¨èä½¿ç”¨ipcMain/ipcRendereré…åˆcontextBridgeä½œä¸ºæ›¿ä»£æ–¹æ¡ˆã€‚ è°ƒè¯• # å¼€å‘çƒ­æ›´æ–° $ nodemon --watch . --exec electron . åº”ç”¨æ‰“åŒ…ä¸åˆ†å‘ å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦å°†åº”ç”¨æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä»¥ä¾¿åˆ†å‘ç»™ç”¨æˆ·ã€‚electron-packageræ˜¯ä¸€ä¸ªæµè¡Œçš„æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥è½»æ¾åœ°å°†Electronåº”ç”¨æ‰“åŒ…æˆWindowsã€macOSå’ŒLinuxå¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚ åº”ç”¨ç¨‹åºçš„ç»¿è‰²ç‰ˆæœ¬ï¼šæ— éœ€å®‰è£…ï¼Œæ‹·è´æ•´ä¸ªæ–‡ä»¶ç›®å½•ä¹‹åå³å¯ä½¿ç”¨ å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå®‰è£…åŒ…ï¼šå®‰è£…ä¹‹åé€šè¿‡æ¡Œé¢å¿«æ·æ–¹å¼çš„å½¢å¼å»è®¿é—®ï¼ˆInno Setupï¼‰ # å®‰è£…electronæ‰“åŒ…å·¥å…·electron-packager $ npm install electron-packager -g # ç¼–è¯‘ç»¿è‰²å®‰è£…åŒ… $ electron-packager . appName --win --out ./appName --arch=x64 --app-version=1.0.0 --electron-version=1.0.0 --overwrite --icon=./src/assets/favicon.ico --ignore=node_modules # å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå®‰è£…åŒ… Inno Setup é€šè¿‡è½¯ä»¶å‘å¯¼ç”Ÿæˆ setup.exe electron å®‰è£…+è¿è¡Œ+æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨+æ‰“åŒ…æˆå®‰è£…æ–‡ä»¶+å¼€æœºè‡ªå¯åŠ¨ electron-packager electron-packager çš„å‘½ä»¤ç»“æ„å¦‚ä¸‹ï¼ˆæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰ï¼š .ï¼šéœ€è¦æ‰“åŒ…çš„åº”ç”¨ç›®å½•ï¼ˆå³å½“å‰ç›®å½•ï¼‰ appNameï¼šåº”ç”¨åç§° --winï¼šæ‰“åŒ…å¹³å°ï¼ˆä»¥ Windows ä¸ºä¾‹ï¼‰ --out ../appNameï¼šè¾“å‡ºç›®å½• --arch=64ï¼š64 ä½ --app-version=0.0.1ï¼šåº”ç”¨ç‰ˆæœ¬ --electron-version=2.0.0ï¼šé¡¹ç›®ä½¿ç”¨çš„ electron ç‰ˆæœ¬ electron-packager ç¼–è¯‘çš„å®‰è£…åŒ…è·‘ä¸èµ·æ¥ï¼š æœ‰æŠ¥é”™è¯´æ˜ä»£ç æˆ–è°ƒç”¨å‡ºé—®é¢˜ï¼Œä¼šå‡ºç°åœ¨çº¿é¢„è§ˆæ²¡äº‹ï¼Œä½†ç¼–è¯‘åŒ…å°±å‡ºé—®é¢˜ ç¼–è¯‘åŒ…å®šä¹‰çš„ electron ç‰ˆæœ¬æ˜¯å¦ä¸é¡¹ç›®ç”¨çš„ä¸€è‡´ï¼Œæ–°ç‰ˆæœ¬å¯æ”¯æŒæ›´å¤š api æ€»ç»“ä¸å±•æœ› Electroné€šè¿‡å·§å¦™åœ°ç»“åˆWebæŠ€æœ¯å’ŒåŸç”Ÿèƒ½åŠ›ï¼Œä¸ºå¼€å‘è€…æ‰“å¼€äº†æ„å»ºæ¡Œé¢åº”ç”¨çš„æ–°å¤§é—¨ã€‚ç†è§£å…¶ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹çš„åˆ†ç¦»æ¶æ„ï¼Œå–„ç”¨Node.jsé›†æˆå¸¦æ¥çš„ä¾¿åˆ©ï¼Œå¹¶æŒæ¡è¿›ç¨‹é—´é€šä¿¡çš„æŠ€å·§ï¼Œæ˜¯å¼€å‘é«˜è´¨é‡Electronåº”ç”¨çš„å…³é”®ã€‚ éšç€æŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬åº”è¯¥æŒç»­å…³æ³¨Electronçš„æœ€ä½³å®è·µï¼Œä¾‹å¦‚ä½¿ç”¨contextBridgeæå‡åº”ç”¨å®‰å…¨æ€§ï¼Œä»¥åŠæ¢ç´¢æ›´ç°ä»£åŒ–çš„æ‰“åŒ…å·¥å…·ï¼ˆå¦‚electron-builderï¼‰æ¥ä¼˜åŒ–åˆ†å‘æµç¨‹ã€‚å¸Œæœ›æœ¬æ–‡èƒ½ä¸ºä½ æ¢ç´¢Electronä¸–ç•Œæä¾›ä¸€ä¸ªåšå®çš„èµ·ç‚¹ã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 16:34:46 "},"è·¨ç«¯æ–¹æ¡ˆ/flutter.html":{"url":"è·¨ç«¯æ–¹æ¡ˆ/flutter.html","title":"Flutter","keywords":"","body":"Flutterï¼šè·¨å¹³å° UI å¼€å‘æ¡†æ¶æ·±åº¦è§£æ æ¦‚è¿° Flutter æ˜¯ç”± Google å¼€å‘çš„å¼€æº UI è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼Œç”¨äºä»å•ä¸€ä»£ç åº“æ„å»ºè·¨å¹³å°åº”ç”¨ç¨‹åºï¼Œæ”¯æŒ iOSã€Androidã€Windowsã€macOSã€Linux å’Œ Web å¹³å°ã€‚Flutter é‡‡ç”¨ç‹¬ç‰¹çš„æ¶æ„è®¾è®¡ï¼Œä½¿å…¶åœ¨æ€§èƒ½ã€å¼€å‘æ•ˆç‡å’Œä¸€è‡´æ€§æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚ æ ¸å¿ƒç‰¹ç‚¹ è·¨å¹³å°ä¸€è‡´æ€§ï¼šåœ¨ä¸åŒå¹³å°ä¸Šæä¾›åƒç´ çº§ä¸€è‡´çš„ UI ä½“éªŒ é«˜æ€§èƒ½ï¼šä½¿ç”¨ Skia å›¾å½¢å¼•æ“ç›´æ¥æ¸²æŸ“ï¼Œé¿å…å¹³å°åŸç”Ÿç»„ä»¶çš„æ€§èƒ½ç“¶é¢ˆ çƒ­é‡è½½ï¼šäºšç§’çº§çš„ä»£ç æ›´æ–°åé¦ˆå¾ªç¯ï¼Œæå¤§æå‡å¼€å‘æ•ˆç‡ ä¸°å¯Œçš„ç»„ä»¶åº“ï¼šæä¾›è¶…è¿‡ 200 ä¸ªé«˜åº¦å¯å®šåˆ¶çš„å°éƒ¨ä»¶ å£°æ˜å¼ UIï¼šé‡‡ç”¨ç°ä»£å“åº”å¼æ¡†æ¶æ„å»ºç”¨æˆ·ç•Œé¢ Dart è¯­è¨€æ·±åº¦è§£æ Dart æ˜¯ Flutter åº”ç”¨å¼€å‘çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§é€‚ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¼€å‘çš„å¼ºç±»å‹è¯­è¨€ã€‚ è¯­è¨€ç‰¹æ€§ é¢å‘å¯¹è±¡ï¼šæ”¯æŒç±»ã€æ¥å£ã€æ··å…¥(mixin)ç­‰é¢å‘å¯¹è±¡ç‰¹æ€§ å¼ºç±»å‹ï¼šæ”¯æŒç±»å‹æ¨æ–­çš„é™æ€ç±»å‹ç³»ç»Ÿ ç©ºå®‰å…¨ï¼šé»˜è®¤æ‰€æœ‰ç±»å‹éƒ½æ˜¯éç©ºçš„ï¼Œéœ€æ˜¾å¼å£°æ˜å¯ä¸ºç©º å¹¶å‘æ¨¡å‹ï¼šåŸºäºéš”ç¦»(isolate)çš„å¹¶å‘ï¼Œé¿å…å…±äº«å†…å­˜å¸¦æ¥çš„å¤æ‚æ€§ JIT & AOT ç¼–è¯‘ï¼šå¼€å‘æ—¶ä½¿ç”¨ JIT å®ç°çƒ­é‡è½½ï¼Œå‘å¸ƒæ—¶ä½¿ç”¨ AOT è·å¾—æœ€ä½³æ€§èƒ½ å®‰è£…ä¸é…ç½® Windows å¹³å°å®‰è£…ç¤ºä¾‹ choco install dart-sdk macOS å¹³å°å®‰è£…ç¤ºä¾‹ brew tap dart-lang/dart brew install dart ç¯å¢ƒå˜é‡é…ç½® å®‰è£…å®Œæˆåï¼Œéœ€è¦å°† Dart SDK çš„ bin ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡ä¸­ï¼š Windows: C:\\tools\\dart-sdk\\bin macOS/Linux: /usr/local/opt/dart/libexec/bin ç¼–è¯‘å·¥å…·é“¾ dart2jsï¼šå°† Dart ä»£ç ç¼–è¯‘ä¸ºä¼˜åŒ–çš„ JavaScriptï¼Œç”¨äº Web éƒ¨ç½² dart compile js main.dart -o main.js dart2nativeï¼šå°† Dart ä»£ç ç¼–è¯‘ä¸ºæœ¬åœ°å¯æ‰§è¡Œæ–‡ä»¶ dart compile exe main.dart dartaotruntimeï¼šè¿è¡Œé¢„ç¼–è¯‘çš„ Dart AOT å¿«ç…§ ä¸ JavaScript å¯¹æ¯” ç‰¹æ€§ Dart JavaScript ç±»å‹ç³»ç»Ÿ å¼ºç±»å‹ å¼±ç±»å‹ å¹¶å‘æ¨¡å‹ Isolate Web Workers ç¼–è¯‘æ–¹å¼ JIT & AOT JIT ç©ºå®‰å…¨ é»˜è®¤å¯ç”¨ éœ€TypeScript å¼€å‘å·¥å…· ä¸°å¯Œ ä¸°å¯Œ Flutter å¼€å‘å®è·µ ä» Web å¼€å‘è½¬å‘ Flutter å¯¹äºæœ‰ Web å¼€å‘èƒŒæ™¯çš„å¼€å‘è€…ï¼Œä»¥ä¸‹æ¦‚å¿µå¯¹åº”å…³ç³»æœ‰åŠ©äºå¿«é€Ÿä¸Šæ‰‹ï¼š HTML/CSS â†’ Widgetsï¼š â†’ Container() â†’ Text() â†’ Image() CSS æ ·å¼ â†’ Widget çš„å±æ€§å‚æ•° JavaScript â†’ Dartï¼š Promise â†’ Future async/await â†’ è¯­æ³•ç›¸åŒ Array.map() â†’ List.map() React/Vue â†’ Flutterï¼š ç»„ä»¶çŠ¶æ€ç®¡ç†æ¦‚å¿µç›¸ä¼¼ å“åº”å¼ç¼–ç¨‹èŒƒå¼ç›¸é€š å®é™…ä»£ç ç¤ºä¾‹ åŸºç¡€è®¡æ•°å™¨åº”ç”¨ import 'package:flutter/material.dart'; void main() => runApp(MyApp()); class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', theme: ThemeData(primarySwatch: Colors.blue), home: MyHomePage(title: 'Flutter Demo Home Page'), ); } } class MyHomePage extends StatefulWidget { MyHomePage({Key? key, required this.title}) : super(key: key); final String title; @override _MyHomePageState createState() => _MyHomePageState(); } class _MyHomePageState extends State { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text(widget.title)), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Text('You have pushed the button this many times:'), Text('$_counter', style: Theme.of(context).textTheme.headline4), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); } } ç½‘ç»œè¯·æ±‚ç¤ºä¾‹ import 'dart:convert'; import 'package:flutter/material.dart'; import 'package:http/http.dart' as http; class ApiDemo extends StatefulWidget { @override _ApiDemoState createState() => _ApiDemoState(); } class _ApiDemoState extends State { List _posts = []; Future fetchPosts() async { final response = await http.get( Uri.parse('https://jsonplaceholder.typicode.com/posts'), ); if (response.statusCode == 200) { setState(() { _posts = json.decode(response.body); }); } } @override void initState() { super.initState(); fetchPosts(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text('API Demo')), body: ListView.builder( itemCount: _posts.length, itemBuilder: (context, index) { return ListTile( title: Text(_posts[index]['title']), subtitle: Text(_posts[index]['body']), ); }, ), ); } } è¿›é˜¶ä¸»é¢˜ çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ Flutter æä¾›äº†å¤šç§çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œé€‚ç”¨äºä¸åŒå¤æ‚åº¦çš„åº”ç”¨ï¼š setStateï¼šé€‚åˆå±€éƒ¨çŠ¶æ€ç®¡ç† InheritedWidgetï¼šå®ç°å‘ä¸‹ä¼ é€’æ•°æ®çš„æœºåˆ¶ Providerï¼šæ¨èçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼ŒåŸºäº InheritedWidget çš„å°è£… Riverpodï¼šProvider çš„æ”¹è¿›ç‰ˆï¼Œè§£å†³äº† Provider çš„ä¸€äº›é™åˆ¶ Bloc/RxDartï¼šå“åº”å¼ç¼–ç¨‹æ¨¡å¼çš„çŠ¶æ€ç®¡ç† æ€§èƒ½ä¼˜åŒ–æŠ€å·§ const æ„é€ å‡½æ•°ï¼šå°½å¯èƒ½ä½¿ç”¨ const åˆ›å»º widget const Text('Hello', style: TextStyle(fontSize: 16)); ListView.builderï¼šç”¨äºé•¿åˆ—è¡¨çš„æ‡’åŠ è½½ é¿å…é‡å»ºï¼šä½¿ç”¨ const æˆ– Provider é€‰æ‹©æ€§é‡å»º isolateï¼šå°†è®¡ç®—å¯†é›†å‹ä»»åŠ¡æ”¾åˆ° isolate ä¸­æ‰§è¡Œ å¹³å°ç‰¹å®šåŠŸèƒ½é›†æˆ é€šè¿‡å¹³å°é€šé“(Platform Channel)å®ç°ä¸åŸç”Ÿå¹³å°çš„äº¤äº’ï¼š // Dart ç«¯ const platform = MethodChannel('samples.flutter.dev/battery'); Future getBatteryLevel() async { try { final result = await platform.invokeMethod('getBatteryLevel'); print('Battery level: $result%'); } on PlatformException catch (e) { print(\"Failed: '${e.message}'.\"); } } å¯¹åº”çš„ Android(Kotlin)å’Œ iOS(Swift)ç«¯éœ€è¦å®ç°ç›¸åº”çš„æ–¹æ³•ã€‚ å­¦ä¹ èµ„æº å®˜æ–¹æ–‡æ¡£ï¼šæœ€æƒå¨çš„å­¦ä¹ èµ„æº Flutter å®æˆ˜ï¼šä¸­æ–‡ç¤¾åŒºä¼˜ç§€æ•™ç¨‹ Flutter Widget of the Dayï¼šå®˜æ–¹ widget ä»‹ç»è§†é¢‘ Dart Padï¼šåœ¨çº¿ç¼–å†™å’Œè¿è¡Œ Dart ä»£ç  å¸¸è§é—®é¢˜è§£ç­” Qï¼šFlutter é€‚åˆå¼€å‘ä»€ä¹ˆç±»å‹çš„åº”ç”¨ï¼Ÿ Aï¼šFlutter é€‚åˆå¼€å‘éœ€è¦å¿«é€Ÿè¿­ä»£ã€è·¨å¹³å°ä¸€è‡´æ€§çš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯éœ€è¦ä¸°å¯Œè‡ªå®šä¹‰ UI çš„åœºæ™¯ã€‚ä½†å¯¹äºéœ€è¦æ·±åº¦é›†æˆå¹³å°ç‰¹å®šåŠŸèƒ½çš„åº”ç”¨ï¼Œå¯èƒ½éœ€è¦æ›´å¤šåŸç”Ÿå¼€å‘å·¥ä½œã€‚ Qï¼šDart çš„å­¦ä¹ æ›²çº¿å¦‚ä½•ï¼Ÿ Aï¼šå¯¹äºæœ‰ Java/JavaScript/C# ç»éªŒçš„å¼€å‘è€…ï¼ŒDart å¾ˆå®¹æ˜“ä¸Šæ‰‹ã€‚å…¶è¯­æ³•ç®€æ´ï¼Œæ ¸å¿ƒæ¦‚å¿µä¸å¤šæ•°ç°ä»£è¯­è¨€ç›¸ä¼¼ã€‚Flutter æ¡†æ¶çš„å­¦ä¹ å¯èƒ½éœ€è¦æ›´å¤šæ—¶é—´ã€‚ Qï¼šFlutter çš„æ€§èƒ½å¦‚ä½•ï¼Ÿ Aï¼šFlutter åœ¨å¤§å¤šæ•° UI åœºæ™¯ä¸‹æ€§èƒ½æ¥è¿‘åŸç”Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨åŠ¨ç”»å’Œæ»šåŠ¨æµç•…åº¦æ–¹é¢è¡¨ç°ä¼˜å¼‚ã€‚ä½†å¯¹äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œä»éœ€è€ƒè™‘ä½¿ç”¨ isolate æˆ–å¹³å°åŸç”Ÿä»£ç ã€‚ Qï¼šFlutter çš„ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿåº¦å¦‚ä½•ï¼Ÿ Aï¼šæˆªè‡³ 2023 å¹´ï¼ŒFlutter ç”Ÿæ€ç³»ç»Ÿå·²ç›¸å½“æˆç†Ÿï¼Œpub.dev ä¸Šæœ‰è¶…è¿‡ 25,000 ä¸ªåŒ…ï¼Œè¦†ç›–å¤§å¤šæ•°å¸¸è§éœ€æ±‚ã€‚ä½†æŸäº›ç‰¹å®šé¢†åŸŸçš„ç¬¬ä¸‰æ–¹åº“å¯èƒ½ä¸å¦‚ React Native ä¸°å¯Œã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 16:31:44 "},"è·¨ç«¯æ–¹æ¡ˆ/uni-app.html":{"url":"è·¨ç«¯æ–¹æ¡ˆ/uni-app.html","title":"Uni App","keywords":"","body":"uniapp è°ƒè¯• å®˜æ–¹è°ƒè¯•æ•™ç¨‹ HBuilder å†…ç½®æµè§ˆå™¨ ä¼˜ç‚¹ï¼šåœ¨çº¿åŒæ­¥è¿è¡Œå‰ç«¯é¡¹ç›®ï¼Œè¾¹æ”¹è¾¹çœ‹ï¼Œæ¥å£å¯è·¨åŸŸæˆåŠŸï¼Œå¯æŸ¥çœ‹è¯·æ±‚ä¿¡æ¯ å¼Šç«¯ï¼šè¿è¡Œä¸äº† html5+ ç›¸å…³çš„ çœŸæœºè°ƒè¯• è¿æ¥æ–¹å¼ï¼šusb è¿æ¥å¥½åï¼Œé€šè¿‡ã€è¿è¡Œã€‘-ã€è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨ã€‘-ã€è¿è¡Œåˆ° Android app åŸºåº§ã€‘ ä¼˜ç‚¹ï¼šå¯è¿˜åŸæ‰‹æœº app è¿è¡Œç¯å¢ƒï¼›å¯ä»¥çƒ­æ›´æ–° å¼Šç«¯ï¼šæ›´æ–°ä¸€ç‚¹ç‚¹éƒ½è¦é‡å¯ appï¼Œå¦‚æœé…ç½®äº†è´¦å·å¯†ç ã€ç¯å¢ƒéƒ½è¦é‡æ–°è®¾ç½®ï¼›éœ€è¦æŠ“åŒ…çœ‹ç½‘ç»œè¯·æ±‚ï¼›android å¯ç”¨ï¼Œios ä¸å¯ï¼ˆæˆªæ­¢è‡³ 22.10.25ï¼‰ æ¨¡æ‹Ÿå™¨ ä¼˜ç‚¹ï¼šå¯è¿˜åŸæ‰‹æœº app è¿è¡Œç¯å¢ƒï¼›å¯ä»¥çƒ­æ›´æ–° å¼Šç«¯ï¼šwindows åªèƒ½è¿è¡Œå®‰å“æ¨¡æ‹Ÿå™¨ï¼›éœ€è¦æŠ“åŒ…çœ‹ç½‘ç»œè¯·æ±‚ï¼›è¿è¡Œæœ‰ç‚¹æ…¢ è¿æ¥æ•™ç¨‹å¤§éƒ¨åˆ†å¯ä»¥å‚è€ƒ: https://www.jianshu.com/p/f01efc0e4609 æ£€æŸ¥æ¨¡æ‹Ÿå™¨è¿æ¥æƒ…å†µï¼šæ–°ç‰ˆæœ¬ HbuilderX è¡Œä¸é€šäº†ï¼Œå¯é€šè¿‡ã€è¿è¡Œã€‘-ã€è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨ã€‘-ã€è¿è¡Œåˆ° Android app åŸºåº§ã€‘æŸ¥çœ‹æ˜¯å¦æœ‰è®¾å¤‡åç±»ä¼¼ä¸ºã€127.0.0.1:7555ã€‘ è¿è¡ŒæˆåŠŸåä¸€ç›´é—ªé€€é—®é¢˜ï¼šå›é€€ Hb ç‰ˆæœ¬ 3.4.x ä¹‹å æ‰“å¼€è°ƒè¯•æ§åˆ¶å°ï¼šã€è§†å›¾ã€‘-ã€æ˜¾ç¤º webview è°ƒè¯•æ§åˆ¶å°ã€‘ # è¿æ¥ adb connect 127.0.0.1:7555 adb devices # HbuilderX é»˜è®¤å®‰å“ç«¯å£26944 æ¨¡æ‹Ÿå™¨ç«¯å£å· æ¨¡æ‹Ÿå™¨é€šè¿‡ bin æ–‡ä»¶å¯ä»¥é€šè¿‡ç»ˆç«¯é“¾æ¥æ‰‹æœºï¼Œæ“ä½œå†…éƒ¨ç¯å¢ƒï¼Œè¯»å†™åˆ æ‰‹æœºæ–‡ä»¶ chrome webview è°ƒè¯• çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨è°ƒè¯•å¯ä»¥ç”¨ chrome è°ƒè¯•é¡µé¢æ ·å¼ï¼Œå½“ç¨‹åºè¿è¡Œåˆ°åŸºåº§åï¼Œæ‰“å¼€ HubuilderX çš„è§†å›¾ -> æ˜¾ç¤º Webview è°ƒè¯•æ§åˆ¶å°ã€‚ chrome è°ƒè¯• appï¼šhttps://blog.51cto.com/u_10624715/5270841 uni-app åªæœ‰ v3 æ¨¡å¼ä¸‹çš„ vue é¡µé¢æ”¯æŒ webview è°ƒè¯•ï¼šhttps://ask.dcloud.net.cn/article/36599 ç¦»çº¿æ‰“åŒ… uniapp åˆ†ä¸¤ç§æ›´æ–°æœºåˆ¶ï¼š å®Œæ•´åŒ…æ›´æ–°ï¼ŒåŒ…æ‹¬ wgt åŒ… + uni åŸç”Ÿå¼•æ“ + åŸç”Ÿæ’ä»¶ï¼ˆè¿™ç§æ–¹å¼æ¯”è¾ƒç¹çï¼Œå³æ¯æ¬¡æ›´æ–°ä¹‹åå°±è¦æ‰“äº‘åŒ…ï¼Œæ›´æ–°æ•´åŒ…ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿä¸å¥½ï¼‰ èµ„æºåŒ…æ›´æ–°ï¼ŒåŒ…æ‹¬ wgtï¼ˆå› ç¬¬ä¸€ç§æ–¹æ³•æƒ³åˆ°åˆ©ç”¨èµ„æºæ›´æ–°ï¼Œç”¨æˆ·ä½“éªŒå¤§å¤§æå‡ï¼Œç”¨æˆ·æ›´æ–°ä¹‹åæ— éœ€è·³è½¬åˆ°åº”ç”¨å¸‚åœºæˆ–è€…æµè§ˆå™¨å»é‡æ–°æ›´åŒ…ï¼Œå³æ— æ„Ÿæ›´æ–°ï¼‰ã€‚wgt æ˜¯èµ„æºå‡çº§åŒ…ï¼Œå®Œæ•´çš„å‰ç«¯èµ„æºï¼Œå°†å‰ç«¯çš„å…¨éƒ¨å†…å®¹ç¼–è¯‘æ‰“åŒ…æˆ wgtã€‚åªæœ‰å‰ç«¯èµ„æº wgt å¯ä»¥çƒ­æ›´æ–°ã€‚ uniapp ç¦»çº¿æ‰“åŒ…ï¼ˆwgtï¼‰ï¼š é…ç½® manifeat.json åŸºç¡€é…ç½®ä¸­çš„ appIDã€åº”ç”¨ç‰ˆæœ¬åç§°ã€åº”ç”¨ç‰ˆæœ¬å· ç‚¹å‡»çª—å£çš„ã€å‘è¡Œã€‘-ã€åŸç”Ÿ app-åˆ¶ä½œåº”ç”¨ wgt åŒ…ã€‘ uni-app è·¨å¹³å°åº”ç”¨å¼€å‘ä¹‹å®ç°èµ„æºåœ¨çº¿å‡çº§ æ··åˆå¼€å‘ uniapp ç¼–è¯‘æä¾›çš„ wgt åŒ…ï¼Œå®¿ä¸»åœ¨åŸç”Ÿ app ä¸­ uniapp å‘ app å‘é€æŒ‡ä»¤ï¼Œé€šè¿‡å›è°ƒè·å–ä¿¡æ¯ï¼šuni.sendNativeEvent uniapp ç›‘å¬ app çš„æŒ‡ä»¤ï¼šuni.onNativeEventReceive((event, data) => {}) others app å¯ç”¨å°ç¨‹åºæ—¶ï¼Œåœ¨ onLaunch(opts) çš„ opts çš„å¯ä»¥è·å–åˆ°ä¸€äº›ä¿¡æ¯ è·å– app ç‰ˆæœ¬å·ï¼šopts.referrerInfo.extraData.version æ˜¯å¦ debug æ¨¡å¼ï¼šopts.referrerInfo.extraData.isDebug HTML5+ æ‰©å±•è§„èŒƒ https://www.html5plus.org/doc/h5p.html HTML5+æ˜¯ä¸­å›½ HTML5 äº§ä¸šè”ç›Ÿçš„æ‰©å±•è§„èŒƒï¼ŒåŸºäº HTML5 æ‰©å±•äº†å¤§é‡è°ƒç”¨è®¾å¤‡çš„èƒ½åŠ›ï¼Œä½¿å¾— web è¯­è¨€å¯ä»¥æƒ³åŸç”Ÿè¯­è¨€ä¸€æ ·å¼ºå¤§ã€‚ html5+ æ˜¯ hbulider åˆ©ç”¨è‡ªå·±çš„ IDE ç»“åˆä¸åŒå¹³å°çš„æ¥å£å†åŠ ä¸Š html5 çš„ä¸œè¥¿å¼€å‘å‡ºæ¥çš„ä¸€å¥—æ¡†æ¶ï¼Œå®ƒæœ‰è‡ªå·±çš„ä½¿ç”¨è§„èŒƒï¼Œå®ƒå…è®¸å’Œæä¾›äº†ä¸€äº›æ¥å£å’Œå‡½æ•°æ¥è®© web å¼€å‘è€…å®ç°åŸç”Ÿ app æ‰€èƒ½å®ç°çš„åŠŸèƒ½ï¼ŒDcloudï¼ˆå¼€å‘ hublider çš„å…¬å¸ï¼‰è¿˜åœ¨ hublider æä¾›äº†äº‘æ‰“åŒ…åŠŸèƒ½ï¼Œå‡ ä¹æ˜¯æ‰“åŒ…å‘å¸ƒï¼Œå¸®é‚£äº›ä¸ç†Ÿæ‚‰åŸç”Ÿå¼€å‘çš„å¼€å‘äººå‘˜èŠ‚çœäº†å¾ˆå¤šæ—¶é—´ï¼Œå›½å†…ç±»ä¼¼çš„è¿˜æœ‰ Apicloud(æä¾›äº†å¾ˆå¤šåŸç”Ÿæ¨¡å—ï¼Œè€Œä¸”ç¼–è¯‘å‘å¸ƒä»€ä¹ˆçš„è¦æ¯” hbulider å¥½ä¸€äº›ï¼ŒSDK æ›´æ–°çš„æ¯”è¾ƒå‹¤ï¼Œç»´æŠ¤è¿˜æ˜¯åšçš„å¾ˆä¸é”™çš„ï¼Œæœ€è¿‘åœ¨å’Œ Dcloud æ‰“å®˜å¸)ã€‚hublider çš„ native.js å°±æ˜¯ä¸€ä¸ªæ¥å£åº“ï¼Œè°ƒé‡Œé¢çš„æ¥å£å°±å¯ä»¥åˆ©ç”¨ hbulider ä¸ºä½ å®ç°çš„å’ŒåŸç”Ÿ api ç»“åˆçš„ä¸€äº›åŠŸèƒ½ã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"è·¨ç«¯æ–¹æ¡ˆ/uniapp.html":{"url":"è·¨ç«¯æ–¹æ¡ˆ/uniapp.html","title":"Uniapp","keywords":"","body":"uniapp å¸¸ç”¨ uniapp ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº // è¿›å…¥åº”ç”¨ App Launch App Show page onLoad page onShow component beforeCreate component created component mounted page onReady // åº”ç”¨åå° App Hide page onHide // åº”ç”¨å…³é—­ page onUnload component destory // åå°é‡æ–°è¿›å…¥ App Show page onLoad page onShow å¸¦æ¥çš„é—®é¢˜ï¼š æ¯æ¬¡åˆ‡æ¢é¡µé¢çš„æ—¶å€™ï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ created mountedï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œè§£å†³æ–¹æ³•ï¼šrefï¼Œåœ¨çˆ¶ç»„ä»¶çš„ onShow è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³• ç”Ÿå‘½å‘¨æœŸï¼š å¦‚æœé¡µé¢æ²¡æœ‰é”€æ¯ä½†éšè—ä¼šè§¦å‘ onHideï¼Œé”€æ¯ä¹Ÿéšè—äº†è§¦å‘ beforeDestroyedï¼ŒonHide å’Œ beforeDestroyed äºŒè€…åªä¼šè§¦å‘ä¸€æ¬¡ onLoad å’Œ onShow navigateTo è°ƒè½¬ï¼Œä¸‹ä¸€é¡µä¼šè§¦å‘ onload å’Œ onshowï¼Œè¿”å›ä¼šè§¦å‘ beforeDestroy å°ç¨‹åºç¼©å°åˆ°åå°ï¼Œåˆ‡æ¢ app å†è¿”å›å°ç¨‹åºä¼šè§¦å‘ onhide onshow æ€»ç»“ï¼šé™¤æƒ³è¦æ¯æ¬¡æ˜¾ç¤ºå°ç¨‹åºéƒ½å¤„ç†æŸäº›é€»è¾‘è¦ä½¿ç”¨ onShowï¼Œå¦åˆ™æœ€å¥½ç”¨ onload uniapp è·¨ç»„ä»¶è§¦å‘äº‹ä»¶ uni.$emit('xxx') .... å°ç¨‹åºåˆ†åŒ… å°ç¨‹åºä¸»åŒ…æœ€å¤šåªèƒ½ 2M çš„é™åˆ¶ï¼Œå½“ä¸€ä¸ªä¸»åŒ…æ–‡ä»¶è¿‡å¤šæ—¶ï¼Œè‚¯å®šé¢ä¸´ç€æ€§èƒ½ä½ï¼Œå¡é¡¿çš„æƒ…å†µã€‚æ‰€ä»¥é‡‡ç”¨äº†åˆ†åŒ…çš„åŠ è½½æœºåˆ¶ï¼Œå°†å„ä¸ªæ¨¡å—è§£è€¦ã€‚æ€»åŒ… 20M é™ä½ä¸»åŒ…å¤§å° å¤–éƒ¨æ ¹ç›®å½•çš„ components ä¼˜åŒ–ï¼Œåªæ”¾ä½¿ç”¨ç‡é«˜çš„ç»„ä»¶ å°½é‡å¤šåˆ†åŒ…ï¼Œåˆ†åŒ…æ•°é‡å¯æ”¯æŒ 10 ä¸ªå·¦å³ï¼Œæ€»åŒ…å¤§å° 20M å›¾ç‰‡é™¤åº•éƒ¨æ å¤–å°½é‡ä½¿ç”¨ç½‘ç»œå›¾ç‰‡ å‡çº§å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œå¯æé«˜æ‰“åŒ…æ•ˆç‡å‹ç¼©ä»£ç  æ‰“åŒ…åŸåˆ™ appï¼ˆä¸»åŒ…ï¼‰ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„ pagesï¼ˆå³æœ€å¤–å±‚çš„ pages å­—æ®µï¼‰ tabBar é¡µé¢å¿…é¡»åœ¨ appï¼ˆä¸»åŒ…ï¼‰å†… subpackages é…ç½®è·¯å¾„å¤–çš„ç›®å½•å°†è¢«æ‰“åŒ…åˆ° appï¼ˆä¸»åŒ…ï¼‰ ä¸­ å£°æ˜ subpackages åï¼Œå°†æŒ‰ subpackages é…ç½®è·¯å¾„è¿›è¡Œæ‰“åŒ… subpackage çš„æ ¹ç›®å½•ä¸èƒ½æ˜¯å¦å¤–ä¸€ä¸ª subpackages å†…çš„å­ç›®å½• app.json ç›®å½•ç»“æ„ å¾®ä¿¡åŸç”Ÿæ˜¯åœ¨åŒçº§åˆ†åŒ…ï¼Œä½† mpvue åŒçº§ä¼šæŠ¥é”™çš„ï¼Œåªèƒ½åœ¨ pages ä¸­è¿›è¡Œåˆ†åŒ…ï¼Œåœ¨ subpackages å£°æ˜é¡¹ç›®åˆ†åŒ…ç»“æ„ app.json { \"pages\": [\"pages/home/main\", \"pages/tabbarpage.main\"], \"subPackages\": [ { \"root\": \"pages/subPage\", //åˆ†åŒ…æ ¹ç›®å½• \"name\": \"\", // åˆ†åŒ…åˆ«åï¼Œåˆ†åŒ…é¢„ä¸‹è½½æ—¶å¯ä»¥ä½¿ç”¨ \"pages\": [ // åˆ†åŒ…é¡µé¢è·¯å¾„ï¼Œç›¸å¯¹äºåˆ†åŒ…æ ¹ç›®å½• \"page1/main\", \"page2/main\" ], \"independent\": \"\" // åˆ†åŒ…æ˜¯å¦æ˜¯ç‹¬ç«‹åˆ†åŒ… } ] } uniapp å°ç¨‹åºå¾®ä¿¡å’Œæ”¯ä»˜å®ç«¯å·®å¼‚ class å’Œ style è¯­æ³• :class=\"xx: Boolean\" æ³¨æ„äº‹é¡¹ï¼š Boolean ä¸èƒ½æ˜¯è¦é€šè¿‡å¤æ‚è®¡ç®—å‡ºçš„å¸ƒå°”ï¼Œä¹Ÿä¸èƒ½æ˜¯è¦ç»è¿‡é»˜è®¤è½¬åŒ–çš„éå¸ƒå°”å€¼ class ä¸ºå¤šä¸ªå€¼æ—¶å¯èƒ½ä¼šå¼‚å¸¸ï¼Œåˆ¤æ–­ä¸æ­£ç¡® æ”¯ä»˜å®å…¼å®¹é—®é¢˜ ç»„ä»¶ä¼ å€¼ä¸ºæ•°ç»„å¯¹è±¡æ—¶ï¼Œå­ç»„ä»¶ä¿®æ”¹å€¼åæ”¯ä»˜å®ç•Œé¢æœªåŒæ­¥æ›´æ–° å­ç»„ä»¶é€šè¿‡ç›´æ¥ä¿®æ”¹æ•°ç»„å¯¹è±¡å†…å®¹ï¼Œæ•°æ®éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå¾®ä¿¡å¯ä»¥æ¸²æŸ“ç•Œé¢ï¼Œä½†æ”¯ä»˜å®ä¸è¡Œ å¯ä»¥å°†å€¼é€šè¿‡ computed å¤åˆ¶ä¸€ä»½ï¼Œåœ¨è¯¥å¤‡ä»½æ”¹å®Œä»¥åï¼Œforceupdate span æ ‡ç­¾æ³¨å†Œ click äº‹ä»¶å¤±è´¥ï¼Œéœ€è¦è½¬ä¸º div æ ·å¼ç©ºç™½å± å½“ä½¿ç”¨ position: absolute;top: 0;bottom: 0; æ’‘å¼€å…ƒç´  A æ—¶ï¼Œéœ€è¦æ³¨æ„ A çš„çˆ¶å…ƒç´ æ˜¯å¦ä¸ºæ ¹å…ƒç´  bodyï¼Œå¦‚æœä¸æ˜¯éœ€è¦ç»™ä¸€ä¸ªé«˜åº¦ï¼Œå¦åˆ™ä¼šå‡ºç°å­æ˜¯æ’‘ä¸å¼€çˆ¶çš„ã€‚ å¾®ä¿¡ç«¯å®¹é”™æ€§é«˜ï¼Œå¯ä»¥å±•ç¤ºæ•ˆæœï¼Œæ”¯ä»˜å®ä¸è¡Œã€‚ æ ·å¼è¾¹è·é”™ä¹± æ”¯ä»˜å®ç«¯æœ‰æ—¶ä¼šå¯¹ box-sizing: border-box;ä¸ç”Ÿæ•ˆã€‚å¦‚ /* æ­¤æ—¶swiper-boxçš„å®½æ˜¯é“ºæ»¡å±å¹•çš„ï¼Œæ²¡æœ‰è¾¹è· */ .main-content-banner { width: 100%; height: 98px; padding-bottom: 16px; position: relative; .swiper-box { width: 100%; height: 98px; box-sizing: border-box; padding: 0 12px; text-align: center; } } æ”¯ä»˜å®å›¾ç‰‡æ ‡ç­¾å¦‚æœå®šä¹‰äº† padding-bottomï¼Œä¼šæ‹‰é•¿å›¾ç‰‡çš„é«˜ï¼Œå°½é‡ç”¨ margin å›¾ç‰‡çš„èƒŒæ™¯å¦‚æœç”¨äº† background-size: contain; ä¼šä½¿æ”¯ä»˜å®ç«¯é«˜åº¦ä¸å¯æ§ï¼Œä¸å¾®ä¿¡ç«¯ä¸ä¸€è‡´ vue æ•°æ®è”åŠ¨æ²¡ååº” åŸåˆ™ä¸Šå­ç»„ä»¶ä¸èƒ½å¯¹ props ä¼ å€¼è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬å¯¹è±¡ã€‚ä½†å¾®ä¿¡ç«¯å¯ç›´æ¥å¼•ç”¨è¯¥ props å¯¹è±¡ï¼Œå† emit update ä¿®æ”¹ã€‚æ”¯ä»˜å®ç«¯ä¸è¡Œã€‚ æ‰€ä»¥å¯é‡‡ç”¨ computed å¤åˆ¶ props å†å¼•ç”¨ï¼Œä¿®æ”¹å¯ç”¨ emit updateã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é€šç”¨å·¥å…·/curl.html":{"url":"é€šç”¨å·¥å…·/curl.html","title":"Curl","keywords":"","body":"curl CURL (Client Url) æ˜¯ä¸€ä¸ªåˆ©ç”¨ URL è¯­æ³•åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·ã€‚ åº”ç”¨ å°†æµè§ˆå™¨çš„è¯·æ±‚è½¬æ¢ä¸º CURL å‘½ä»¤ æµè§ˆå™¨ç«¯ï¼Œæ‰¾ä¸€ä¸ªè¯·æ±‚ï¼Œå³å‡»å¤åˆ¶æ ¼å¼ï¼Œä¼šæœ‰ä¸€ä¸ªä»¥ curl æ ¼å¼å¤åˆ¶ï¼Œç„¶åå¯ä»¥ç›´æ¥ç²˜è´´åˆ°æµè§ˆå™¨æ§åˆ¶å°æˆ–ç»ˆç«¯å‘é€è¯·æ±‚ï¼Œä»€ä¹ˆè¯·æ±‚éƒ½å¯ä»¥å‘ï¼Œä¸éœ€è¦æƒé™ï¼Œå› ä¸ºå¤åˆ¶çš„æ—¶å€™å·²ç»æŠŠå…³é”®ä¿¡æ¯å¸¦ä¸Šæ¥ æœ‰æ—¶å€™æµè§ˆå™¨çš„è¯·æ±‚ä½ è§‰å¾—ä¸å¯¹äº†ï¼Œå¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªcurl å‘ç»™åç«¯ ä½¿ç”¨å‘½ä»¤è¡Œå¾€æ•°æ®åº“è¯»å–æ•°æ® # ä¸å¸¦ä»»ä½•å‚æ•°å°±æ˜¯ä¸€ä¸ª get è¯·æ±‚ $ curl www.baidu.com # -d:postæ–¹å¼ $ curl -d 'name=hong&age=22' http://localhost:3000/users/addPerson å®ç°æŸäº›åŠŸèƒ½ yarn ç‰ˆæœ¬å‡çº§ï¼š $ curl -o- -L https://yarnpkg.com/install.sh | bash Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é€šç”¨å·¥å…·/gitbook.html":{"url":"é€šç”¨å·¥å…·/gitbook.html","title":"Gitbook","keywords":"","body":"Gitbook Setup # install $ npm install -g gitbook-cli # begin with nvm v10.24.1 $ gitbook install # generate summary by gitbook-summary $ book sm # or $ gitbook init # ouput $ gitbook build $ gitbook build ./ ./docs # development $ gitbook serve --port 6666 âœ¨ Gitbook Features GitBook GitBook Plugins generate a SUMMARY.MD via Gitbook Summary Automated deployment via Github Actions choose /docs via Github Pages Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é€šç”¨å·¥å…·/ç½‘ç»œæŠ“åŒ…Charles.html":{"url":"é€šç”¨å·¥å…·/ç½‘ç»œæŠ“åŒ…Charles.html","title":"ç½‘ç»œæŠ“åŒ…Charles","keywords":"","body":"ç½‘ç»œæŠ“åŒ… Charles Charles é€šè¿‡å°†è‡ªå·±è®¾ç½®æˆç³»ç»Ÿçš„ç½‘ç»œè®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œä½¿å¾—æ‰€æœ‰çš„ç½‘ç»œè®¿é—®è¯·æ±‚éƒ½é€šè¿‡å®ƒæ¥å®Œæˆï¼Œä»è€Œå®ç°äº†ç½‘ç»œå°åŒ…çš„æˆªå–å’Œåˆ†æã€‚ charles ä¸‹è½½åœ°å€ charles æ•™ç¨‹ IOS è®¾å¤‡æ•™ç¨‹ Charles æŠ“åŒ…å®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆMuMuï¼‰ å¿«é€Ÿä¸Šæ‰‹ [Charles] è®¾ç½®ç³»ç»Ÿä»£ç†çš„æƒé™æ¥å®Œæˆå°åŒ…æˆªå– é€‰æ‹©èœå•ä¸­çš„â€œProxyâ€ â€“>â€œMac OS X Proxyâ€æˆ–â€œWindows Proxyâ€ [Charles] æ‰“å¼€ä»£ç†åŠŸèƒ½ é€‰æ‹©èœå•ä¸­çš„â€œProxyâ€â€“>â€œProxy Settingsâ€åç¼–è¾‘ Charles ç«¯å£å·ä¸º 8888ï¼Œå‹¾ä¸Š â€œEnable transparent HTTP proxyingâ€ [iphone] è·å– Charles çš„ä»£ç†åŠŸèƒ½ åœ¨ iphone å½“å‰è¿æ¥çš„ wifi é‡Œç¼–è¾‘å†…å®¹â€œHTTP ä»£ç†â€œä¸ºæ‰‹åŠ¨ä»£ç†ï¼Œå¡«ä¸Š Charles è¿è¡Œæ‰€åœ¨çš„ç”µè„‘çš„ IPï¼Œä»¥åŠç«¯å£å· 8888ã€‚ï¼ˆCharles è¿è¡Œæ‰€åœ¨çš„ç”µè„‘çš„ IPï¼šCharles çš„é¡¶éƒ¨èœå•çš„ â€œHelpâ€â€“>â€œLocal IP Addressâ€ï¼‰ è‹¹æœæ‰‹æœºè¿˜éœ€è¦åœ¨çš„è®¾ç½®-é€šç”¨-è¯ä¹¦-å…è®¸ charles*** è¯ä¹¦ è®¾ç½®ä»£ç†åï¼Œéœ€è¦åœ¨ç”µè„‘ä¸Šé…ç½®å¹¶æ‰“å¼€ Charles æ‰èƒ½ä¸Šç½‘ã€‚ [Charles] å®‰è£…è¯ä¹¦ é€‰æ‹©èœå•ä¸­çš„â€œHelpâ€ â€“> â€œSSL Proxyingâ€ â€“> â€œInstall Charles Root Certificateâ€ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æ˜¯å®‰è£…å®Œè¯ä¹¦ä¹‹åï¼ŒCharles é»˜è®¤ä¹Ÿå¹¶ä¸æˆªå– Https ç½‘ç»œé€šè®¯çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³å¯¹æˆªå–æŸä¸ªç½‘ç«™ä¸Šçš„æ‰€æœ‰ Https ç½‘ç»œè¯·æ±‚ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š Charles åœ¨è¯¥è¯·æ±‚ä¸Šå³å‡»ï¼Œé€‰æ‹© SSL proxy ç›´æ¥è®¾ç½®æ‰€æœ‰ç½‘ç«™ï¼šâ€œProxyâ€ â€“> â€œSSL Proxying Settingsâ€å‹¾é€‰ enable ssl Proxyingï¼Œæ·»åŠ  include çš„ç«¯å£å·*:443 [iphone] å®‰è£…è¯ä¹¦ ç‚¹å‡» Charles çš„é¡¶éƒ¨èœå•ï¼Œé€‰æ‹© â€œHelpâ€ â€“> â€œSSL Proxyingâ€ â€“> â€œInstall Charles Root Certificate on a Mobile Device or Remote Browserâ€ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ° Charles å¼¹å‡ºçš„ç®€å•çš„å®‰è£…æ•™ç¨‹ã€‚ å¦‚æœè®¾ç½®å®Œ HTTPS ä»£ç† å’Œè¯ä¹¦ä¹‹åï¼Œåˆ™æ‰€æœ‰çš„è¯·æ±‚æ•°æ®éƒ½å°†ä»¥æ˜æ–‡æ˜¾ç¤ºï¼Œç½‘ç»œåŒ…ä¸ä¼šæ˜¾ç¤ºé”™è¯¯ X çœŸæœºè°ƒè¯• çœŸæœºæµ‹è¯•ï¼šfiddler Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/","title":"é¡¹ç›®å·¥ç¨‹åŒ–","keywords":"","body":"é¡¹ç›®çš„å·¥ç¨‹åŒ–å’Œè‡ªåŠ¨åŒ–æ˜¯ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹æƒ…ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–çš„å·¥å…·ï¼Œå¯ä»¥æœ‰æ•ˆæå‡é¡¹ç›®å¯ç»´æŠ¤æ€§å’Œè´¨é‡ï¼ŒèŠ‚çœäººåŠ›èµ„æºï¼Œå¹¶ä¸”é¿å…å¾ˆå¤šä¸ç¡®å®šå› ç´ ã€‚ å‰ç«¯è‡ªåŠ¨åŒ–/æŒç»­é›†æˆ/æŒç»­éƒ¨ç½² CI/CDï¼š å‰åç«¯åˆ†ç¦»åï¼Œå‰ç«¯é¡¹ç›®ä¹Ÿå¼•å…¥äº†ç¼–è¯‘ï¼Œæ„å»ºï¼Œå•å…ƒæµ‹è¯•ç­‰ç°ä»£è½¯ä»¶å·¥ç¨‹åŒ–çš„æ ‡å‡†ç¯èŠ‚ï¼Œæé«˜äº†å‰ç«¯çš„å¼€å‘æ•ˆç‡å’Œä¸šåŠ¡äº¤ä»˜èƒ½åŠ› å·¥å…·ï¼šgithubã€jenkins å‰ç«¯å¼€å‘å¦‚ä½•è®©æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²(CI/CD)è·‘èµ·æ¥ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/github-action.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/github-action.html","title":"Github Action","keywords":"","body":"ä½¿ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² VitePress åˆ° Github Pages 1. å‡†å¤‡å·¥ä½œ 1.1 è·å– GitHub Personal Access Token (PAT) è®¿é—® GitHub Token è®¾ç½®é¡µé¢ ç‚¹å‡» \"Generate new token\" â†’ \"Generate new token (classic)\" è®¾ç½®æƒé™èŒƒå›´ï¼š å¿…é¡»å‹¾é€‰ repo æƒé™ï¼ˆåŒ…å«æ‰€æœ‰ä»“åº“æƒé™ï¼‰ å¦‚éœ€è®¿é—®ç§æœ‰ä»“åº“ï¼Œè¿˜éœ€å‹¾é€‰ workflow æƒé™ ç”ŸæˆååŠ¡å¿…ç«‹å³å¤åˆ¶ä¿å­˜ï¼ˆé¡µé¢å…³é—­åå°†æ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰ 1.2 æ·»åŠ  Token åˆ°ä»“åº“ Secrets è¿›å…¥ä½ çš„ GitHub ä»“åº“ â†’ Settings â†’ Secrets and variables â†’ Actions ç‚¹å‡» \"New repository secret\" åç§°å¡«å†™ ACCESS_TOKENï¼Œå€¼ç²˜è´´åˆšæ‰å¤åˆ¶çš„ token 2. é¡¹ç›®é…ç½® 2.1 VitePress åŸºç¡€é…ç½® ç¡®ä¿ docs/.vitepress/config.js ä¸­å·²è®¾ç½®æ­£ç¡®çš„ base è·¯å¾„ï¼š export default { base: '/your-repo-name/', // å¦‚æœæ˜¯ç”¨æˆ·/ç»„ç»‡é¡µé¢åˆ™ç”¨ '/' // å…¶ä»–é…ç½®... } 2.2 ä½¿ç”¨ pnpm çš„æ³¨æ„äº‹é¡¹ åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  pnpm-lock.yaml æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ åˆ›å»º .npmrc æ–‡ä»¶å¹¶æ·»åŠ ï¼šshamefully-hoist=true æ¨èåœ¨ package.json ä¸­æ·»åŠ éƒ¨ç½²è„šæœ¬ï¼š\"scripts\": { \"docs:build\": \"vitepress build docs\", \"docs:preview\": \"vitepress preview docs\" } 3. GitHub Actions é…ç½® 3.1 åˆ›å»ºå·¥ä½œæµæ–‡ä»¶ åœ¨ .github/workflows ç›®å½•ä¸‹åˆ›å»º deploy.yml æ–‡ä»¶ï¼š name: Deploy VitePress to GitHub Pages on: push: branches: [main] # æˆ– masterï¼Œæ ¹æ®ä½ çš„ä¸»åˆ†æ”¯åç§° jobs: deploy: runs-on: ubuntu-latest permissions: contents: write # å…è®¸å·¥ä½œæµå†™å…¥ä»“åº“ steps: - uses: actions/checkout@v4 with: fetch-depth: 0 # è·å–å®Œæ•´å†å²è®°å½• - name: Setup Node.js uses: actions/setup-node@v4 with: node-version: 20 # æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬ cache: 'pnpm' # å¯ç”¨ pnpm ç¼“å­˜ - name: Install pnpm uses: pnpm/action-setup@v2 with: version: 8 # æŒ‡å®š pnpm ç‰ˆæœ¬ - name: Install dependencies run: pnpm install --frozen-lockfile - name: Build VitePress run: pnpm docs:build - name: Deploy to GitHub Pages uses: peaceiris/actions-gh-pages@v3 with: github_token: ${{ secrets.ACCESS_TOKEN }} publish_dir: docs/.vitepress/dist keep_files: false # æ¸…é™¤æ—§æ–‡ä»¶ force_orphan: true # å¼ºåˆ¶ä½¿ç”¨å•æ¬¡æäº¤ 3.2 å·¥ä½œæµé…ç½®è¯´æ˜ ç¼“å­˜ä¼˜åŒ–ï¼šsetup-node çš„ cache: 'pnpm' å¯ä»¥æ˜¾è‘—åŠ é€Ÿåç»­æ„å»º æƒé™æ§åˆ¶ï¼šcontents: write æ˜¯éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯çš„å¿…è¦æƒé™ éƒ¨ç½²é€‰é¡¹ï¼š keep_files: false ç¡®ä¿æ¯æ¬¡éƒ¨ç½²éƒ½æ˜¯å…¨æ–°çŠ¶æ€ force_orphan: true åˆ›å»ºå¹²å‡€çš„æäº¤å†å² 4. å¸¸è§é—®é¢˜æ’æŸ¥ 4.1 éƒ¨ç½²å¤±è´¥å¸¸è§åŸå›  Token æƒé™ä¸è¶³ï¼šç¡®ä¿ token æœ‰ repo æƒé™ base è·¯å¾„é”™è¯¯ï¼šç”¨æˆ·é¡µé¢åº”ä¸º /ï¼Œé¡¹ç›®é¡µé¢åº”ä¸º /repo-name/ åˆ†æ”¯ä¿æŠ¤ï¼šæ£€æŸ¥ä»“åº“è®¾ç½®ä¸­æ˜¯å¦é™åˆ¶äº† gh-pages åˆ†æ”¯çš„å†™å…¥ 4.2 ç¼“å­˜ä¼˜åŒ–æŠ€å·§ å¯ä»¥æ·»åŠ é¢å¤–ç¼“å­˜æ­¥éª¤åŠ é€Ÿæ„å»ºï¼š- name: Cache VitePress build uses: actions/cache@v3 with: path: | docs/.vitepress/cache node_modules 5. è¿›é˜¶é…ç½® 5.1 è‡ªå®šä¹‰åŸŸå åœ¨ docs/.vitepress/config.js ä¸­è®¾ç½® base: '/' åœ¨ä»“åº“ Settings â†’ Pages ä¸­è®¾ç½® Custom domain åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  CNAME æ–‡ä»¶ï¼ˆå†…å®¹ä¸ºä½ çš„åŸŸåï¼‰ 5.2 å¤šç¯å¢ƒéƒ¨ç½² å¯ä»¥æ‰©å±•å·¥ä½œæµå®ç°å¼€å‘/ç”Ÿäº§ç¯å¢ƒåˆ†ç¦»ï¼š jobs: deploy-dev: if: github.ref == 'refs/heads/dev' # å¼€å‘ç¯å¢ƒé…ç½®... deploy-prod: if: github.ref == 'refs/heads/main' # ç”Ÿäº§ç¯å¢ƒé…ç½®... 6. å‚è€ƒèµ„æº VitePress å®˜æ–¹éƒ¨ç½²æŒ‡å— GitHub Actions å®˜æ–¹æ–‡æ¡£ pnpm ä¸ GitHub Actions é›†æˆ ä¿®æ”¹åŒ…ç®¡ç†å™¨ä¸º pnpmï¼šsetup-node Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:08:15 "},"é¡¹ç›®å·¥ç¨‹åŒ–/monorepo.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/monorepo.html","title":"Monorepo","keywords":"","body":"monorepo æ–¹æ¡ˆ pnpm workspaces yarn workspaces lerna + yarn workspaces pnpm workspaces ğŸŒ°ï¼š hazel-plus(ui) ä¸¤ä¸ªå®˜ç½‘é‡æ„åˆå¹¶ï¼ˆnuxt2.17ï¼‰ ä¸¤ä¸ªå®˜ç½‘é‡æ„åˆå¹¶ï¼ˆnuxt2.17ï¼‰ pnpm é…ç½®ï¼Œä½¿ç”¨æ—§ npm å®‰è£…ä¾èµ–çš„æ–¹å¼ .npmrc shamefully-hoist=true auto-install-peers=true strict-peer-dependencies=false é¡¹ç›®ä¸­çš„åˆ«å alias é‡æ–°å®šä¹‰å¼•ç”¨è·¯å¾„ import { resolve } from 'path' const config = { alias: { '@': resolve(__dirname, '../..'), }, } é…ç½® ts ç±»å‹è§£æè·¯å¾„ tsconfig.json { \"extends\": \"./tsconfig.base.json\", \"compilerOptions\": { \"baseUrl\": \"../../\", \"paths\": { \"@/*\": [\"./*\"] } } } pnpm workspaces é¡¹ç›®éƒ¨ç½² ç»å¸¸ä¼šæœ‰å¼‚å¸¸æŠ¥é”™ï¼Œå¦‚æœ¬åœ°ç¼–è¯‘æ„å»ºæ­£å¸¸ï¼Œå‘çº¿ä¸Šéƒ¨ç½²åˆ™æŠ¥é”™ï¼Œå‘ç‚¹å¯èƒ½æ˜¯ä¾èµ–é—®é¢˜ï¼Œlock æ–‡ä»¶æ²¡æœ‰é”å¥½ï¼ŒæŸä¸ªä¾èµ–è¢«å‡çº§äº†ç„¶åå¯¼è‡´é—®é¢˜ workspaces Quick Startï¼šç”¨ pnpm ç®¡ç† Monorepo é¡¹ç›® link æœºåˆ¶ åœ¨ monorepo ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦è§£å†³ package é—´çš„å¼•ç”¨ï¼Œæ¯”å¦‚ @panda/tools ä¼šè¢« @panda/server å’Œ @panda/web ä¾èµ–ã€‚ \"dependencies\": { \"@panda/tools\": \"workspace:^1.0.0\", // é€šè¿‡ workspace ä¸ºæœ¬åœ°å¼•ç”¨ }, é€šè¿‡è½¯é“¾æ¥å¼•ç”¨äº† tools packageï¼Œå¯ä»¥åœ¨ web é¡¹ç›®ä¸‹çš„ node_modules çœ‹åˆ°å¯¹åº”çš„ä»£ç å·²ç»æå‡äº†ã€‚ å‘å¸ƒ workspace åŒ… å½“è¿™æ ·çš„å·¥å…·åŒ…è¢«å‘å¸ƒåˆ°å¹³å°åï¼Œå¦‚ä½•è¯†åˆ«å…¶ä¸­çš„ workspace å‘¢ï¼Ÿ éœ€è¦ workspace åŒ…æ‰“åŒ…åˆ°å½’æ¡£ï¼Œå¯ä»¥é€šè¿‡pnpm pack æˆ– pnpm publish ä¹‹ç±»çš„å‘å¸ƒå‘½ä»¤ï¼Œå°†åŠ¨æ€æ›¿æ¢è¿™äº› workspace ä¾èµ–ï¼ŒæŠŠåŸºäºçš„ workspace çš„ä¾èµ–å˜æˆå¤–éƒ¨ä¾èµ–ï¼Œè§£å†³äº†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå¯¹ä¾èµ–çš„é—®é¢˜ã€‚ æ³¨æ„ï¼šå¿…é¡»æ˜¯ç”¨ pnpm çš„å‘½ä»¤æ‰èƒ½èµ·æ•ˆ yarn workspaces package.json é…ç½® { \"private\": true, \"license\": \"MIT\", \"version\": \"1.0.0\", \"workspaces\": [\"apps/*\"], \"scripts\": { \"xxx:dev\": \"yarn workspace xxx run dev\" } } lerna + yarn workspaces https://blog.csdn.net/frontend_frank/article/details/115344129 # å…¨å±€å®‰è£…ï¼Œlerna æµ‹è¯•ç‰ˆæœ¬ä¸º 5.6.2 $ npm install -g lerna@5.6.2 # ç©ºé¡¹ç›®åˆå§‹åŒ– lerna é¡¹ç›® $ lerna init # æ‰§è¡Œ apps é¡¹ç›®ä¸‹ xxx-a é¡¹ç›®çš„ script æŒ‡ä»¤ devï¼Œå¦‚æœä¸åŠ  --streamï¼Œè¿è¡Œç»“æœåªä¼šæç¤ºæœ€åä¸€å¥ run dev å°±ä»€ä¹ˆä¿¡æ¯éƒ½ä¸ä¼šæŠ¥ $ lerna run dev --scope xxx-a --stream # æŸ¥çœ‹ lerna æŒ‡ä»¤ $ lerna run --help å¦‚æœåœ¨æ—§é¡¹ç›®é‡æ„æˆ lerna monorepo é¡¹ç›®åˆ™æ‰‹åŠ¨åŠ  lerna.json æ–‡ä»¶ lerna.json { \"$schema\": \"node_modules/lerna/schemas/lerna-schema.json\", \"version\": \"independent\", // lernaé»˜è®¤ä½¿ç”¨çš„æ˜¯é›†ä¸­ç‰ˆæœ¬ï¼Œæ‰€æœ‰çš„packageå…±ç”¨ä¸€ä¸ªversion,å¦‚æœéœ€è¦packagesä¸‹ä¸åŒçš„æ¨¡å— ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬å·ï¼Œéœ€è¦é…ç½®Independentæ¨¡å¼ \"packages\": [\"apps/*\"], \"useWorkspaces\": true, \"npmClient\": \"yarn\", \"useNx\": false } turborepo https://turbo.build/ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/qiankun.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/qiankun.html","title":"Qiankun","keywords":"","body":"qiankun mainï¼šä¸»åº”ç”¨ï¼Œä½œä¸ºä¸€ä¸ªå¤–å£³ï¼Œé›†åˆå¤šä¸ªå­åº”ç”¨ subï¼šå­åº”ç”¨ï¼Œæ¯ä¸ªå­åº”ç”¨éƒ½æ˜¯ç‹¬ç«‹çš„é¡¹ç›®ï¼Œç‹¬ç«‹é…ç½®ä¸”éœ€è¦ç‹¬ç«‹éƒ¨ç½² ğŸŒ°ï¼šhttps://github.com/umijs/qiankun/examples # å½“æ—¶æµ‹è¯•ç”¨çš„ node ç‰ˆæœ¬ nvm use 16.15.0 # æ ¹ç›®å½• npm i # æ¯ä¸ª examples çš„åº”ç”¨ npm i npm run examples:start qiankun æ ·å¼éš”ç¦» é»˜è®¤çš„ qiankun æ¡ˆä¾‹é¡¹ç›®æ˜¯æ²¡å¼€å¯ css éš”ç¦»ï¼Œæ‰€æœ‰çš„ css éƒ½åœ¨å…¨å±€ï¼Œè¿™æ ·å„åº”ç”¨çš„æ ·å¼ä¼šç›¸äº’å½±å“ï¼Œæ¯”å¦‚ä¸»åº”ç”¨å’Œå­åº”ç”¨ã€‚ qiankun æä¾›äº†ä¸¤ç§æ ·å¼éš”ç¦»æ–¹æ¡ˆï¼šshadow dom å’Œè‡ªå·±å®ç°çš„ scopedã€‚ shadow dom shadow dom æ˜¯ web components æŠ€æœ¯çš„ä¸€éƒ¨åˆ†ï¼Œå…¶å®å°±ä¸€ä¸ª attachShadow çš„ apiã€‚web components æ·»åŠ å†…å®¹çš„æ—¶å€™ï¼Œä¸ç›´æ¥ appendChildï¼Œè€Œæ˜¯å…ˆ attach ä¸ª shadowï¼Œç„¶åå†åœ¨ä¸‹é¢ appendChildã€‚ å¼€å¯ shadow dom åï¼Œshadow dom å†…çš„æ ·å¼å’Œå¤–ç•Œäº’ä¸å½±å“ã€‚ä½†ç”±äºå¼¹çª—é»˜è®¤æ˜¯æŒ‚åœ¨ body ä¸Šçš„ï¼Œä¹Ÿå°±ä¸åœ¨ shadow dom é‡Œäº†ï¼Œé‚£ shadow dom é‡Œç»™å®ƒåŠ çš„æ ·å¼è‡ªç„¶å°±ä¸ç”Ÿæ•ˆäº†ï¼Œæ‰€ä»¥å¼¹çª—çš„æ ·å¼å°±ä¸¢å¤±äº†ã€‚ multiple.js qiankun å¼€å¯ shadow dom loadMicroApp( { name: 'vue', entry: '//localhost:7101', container: '#vue' }, { sandbox: { strictStyleIsolation: true } }, ); qiankun å®ç°çš„ scoped scoped çš„æ–¹æ¡ˆæ˜¯ç»™é€‰æ‹©å™¨åŠ äº†ä¸€ä¸ª data-qiankun='åº”ç”¨å' çš„é€‰æ‹©å™¨ï¼Œè¿™æ ·çˆ¶åº”ç”¨èƒ½è®¾ç½®å­åº”ç”¨æ ·å¼ï¼Œè¿™æ ·èƒ½éš”ç¦»æ ·å¼ï¼Œä½†æ˜¯åŒæ ·æœ‰æŒ‚åœ¨ body çš„å¼¹çª—æ ·å¼è®¾ç½®ä¸ä¸Šçš„é—®é¢˜ï¼Œå› ä¸º qiankun çš„ scoped ä¸æ”¯æŒå…¨å±€æ ·å¼ multiple.js qiankun å¼€å¯ scoped loadMicroApp( { name: 'vue', entry: '//localhost:7101', container: '#vue' }, { sandbox: { experimentalStyleIsolation: true } }, ); è§£å†³æ–¹æ¡ˆ react å’Œ vue é¡¹ç›®æœ¬èº«éƒ½ä¼šç”¨ scoped css æˆ–è€… css modules çš„ç»„ä»¶çº§åˆ«æ ·å¼éš”ç¦»æ–¹æ¡ˆï¼Œè¿™ä¿©æ–¹æ¡ˆéƒ½æ”¯æŒä¼ é€’æ ·å¼ç»™å­å…ƒç´ ã€è®¾ç½®å…¨å±€æ ·å¼ç­‰ï¼Œåªæ˜¯å®ç°å’Œä½¿ç”¨æ–¹å¼ä¸åŒã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:31:39 "},"é¡¹ç›®å·¥ç¨‹åŒ–/rollup-pack-node.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/rollup-pack-node.html","title":"Rollup Pack Node","keywords":"","body":"rollup æ‰“åŒ… node commonjs é¡¹ç›® ä½¿ç”¨ rollup æ‰“åŒ…å¯åŠ¨é¡¹ç›® rollup.config.mjs // pnpm add -D @rollup/plugin-commonjs @rollup/plugin-node-resolve import resolve from '@rollup/plugin-node-resolve' import commonjs from '@rollup/plugin-commonjs' export default [ { plugins: [resolve(), commonjs()], input: './packages/Json2Interface/index.js', output: { file: './dist/index.js', format: 'cjs', }, external: ['chalk', 'commander', 'inquirer', 'ora', 'request', 'fs', 'quicktype-core'], }, ] package.json { \"scripts\": { \"rollup:Json2Interface\": \"rollup -c rollup.config.mjs\" } } // ä½¿ç”¨ const { output } = require('../dist/index.js') Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/vite-pack-node.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/vite-pack-node.html","title":"Vite Pack Node","keywords":"","body":"vite æ‰“åŒ… node commonjs é¡¹ç›® vite.config.js // pnpm add -D vite-plugin-commonjs import commonjs from 'vite-plugin-commonjs' import { resolve } from 'path' export default { plugins: [ commonjs({ include: /Json2Interface/, extensions: ['.js'], // éœ€è¦è½¬æ¢çš„æ–‡ä»¶æ‰©å±•å ignoreGlobal: false, // æ˜¯å¦å¿½ç•¥å…¨å±€å˜é‡ï¼ˆä¾‹å¦‚ Bufferï¼‰ sourceMap: false, // æ˜¯å¦ç”Ÿæˆæºæ˜ å°„ namedExports: {}, // å‘½åå¯¼å‡ºï¼ˆåç§°å’Œå€¼ï¼‰ ignore: [], // å¿½ç•¥æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼ transformMixedEsModules: true, // æ˜¯å¦è½¬æ¢æ··åˆçš„ ES æ¨¡å— }), ], build: { target: 'modules', minify: true, lib: { entry: './index.js', name: 'Json2Interface', }, rollupOptions: { external: ['chalk', 'commander', 'inquirer', 'quicktype-core', 'ora', 'request', 'fs'], input: ['./index.js'], output: [ { format: 'cjs', //ä¸ç”¨æ‰“åŒ…æˆ.mjs entryFileNames: '[name].js', //è®©æ‰“åŒ…ç›®å½•å’Œæˆ‘ä»¬ç›®å½•å¯¹åº” preserveModules: true, //é…ç½®æ‰“åŒ…æ ¹ç›®å½• dir: resolve(__dirname, '../../dist/Json2Interface'), }, ], }, }, } package.json { \"scripts\": { \"build:Json2Interface\": \"pnpm --filter=Json2Interface build\" } } // ä½¿ç”¨ const { output } = require('../dist/Json2Interface/index.js') Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æäº¤è§„èŒƒ.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æäº¤è§„èŒƒ.html","title":"ä»£ç æäº¤è§„èŒƒ","keywords":"","body":"git commit ä»£ç æäº¤è§„èŒƒ Conventional Commits çº¦å®šå¼æäº¤ ç»Ÿä¸€å›¢é˜Ÿ Git Commit æ ‡å‡†ï¼Œä¾¿äºåç»­ä»£ç  reviewã€ç‰ˆæœ¬å‘å¸ƒã€è‡ªåŠ¨åŒ–ç”Ÿæˆ change log æˆ– release note å¯ä»¥æä¾›æ›´å¤šæ›´æœ‰æ•ˆçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿å¿«é€Ÿé¢„è§ˆä»¥åŠé…åˆ cherry-pick å¿«é€Ÿåˆå¹¶ä»£ç  å›¢é˜Ÿå…¶ä»–æˆå‘˜è¿›è¡Œç±» git blame æ—¶å¯ä»¥å¿«é€Ÿæ˜ç™½ä»£ç ç”¨æ„ æ ¡éªŒè¾…åŠ©å·¥å…· husky: supports all Git hooks, can lint your commit messages, run tests, lint code, etc... commitlint: Lint commit messages # å®‰è£…huskyå’Œcommitlint $ pnpm add -D husky @commitlint/config-conventional @commitlint/cli # warning: ä»¥ä¸‹å‘½ä»¤é€‚ç”¨äºhusky8 # å®‰è£…huskyæä¾›çš„git hookï¼špackage.json > prepare script çš„prepareè„šæœ¬ä¼šåœ¨æ‰§è¡Œnpm installä¹‹åè‡ªåŠ¨æ‰§è¡Œ $ npm set-script prepare \"husky install\" $ npm run prepare # git hook(pre-commit)ï¼šæäº¤git commitå‘½ä»¤å‰è§¦å‘ï¼Œè„šæœ¬å†…å®¹è‡ªå®šä¹‰ï¼Œä¸€èˆ¬æ·»åŠ eslint $ npx husky add .husky/pre-commit \"xxx\" # git hook(commit-msg)ï¼šè§„èŒƒ commit message ä¿¡æ¯ï¼Œéœ€è¦é…ç½®commitlint $ npx husky add .husky/commit-msg 'npx --no-install commitlint --edit \"$1\"' $ echo \"module.exports = {extends: ['@commitlint/config-conventional']}\" > commitlint.config.js é…ç½® commitlint æ—¶ Windows å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼š æ–‡ä»¶ç¼–ç æ ¼å¼åº”è¯¥ä¸º UTF-8 package.json ä¸­çš„ type å±æ€§é…ç½®ï¼šcommitlint.config.js -> \"commonjs\"ï¼Œcommitlint.config.cjs -> \"module\" @commitlint/config-conventional ç±»å‹é»˜è®¤åŒ…æ‹¬ï¼š[build, chore, ci, docs, feat, fix, perf, refactor, revert, style, test] commit è¯´æ˜ ä¾‹å­ï¼š feat(cli): create initial commit fix: feat(0429 ç•™è¨€ä¸‹å•): add 'graphiteWidth' option è§„èŒƒï¼š type(scope): subject typeï¼šç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œè§„å®šä¸ºå¦‚ä¸‹å‡ ç§ï¼š featï¼šæ–°å¢åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®å¤ bug styleï¼šä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€ç¼©è¿›ç­‰ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘ refactorï¼šä»£ç é‡æ„ï¼Œæœªæ–°å¢ä»»ä½•åŠŸèƒ½å’Œä¿®å¤ä»»ä½• bug choreï¼šé src å’Œ test çš„ä¿®æ”¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ï¼ˆæ‚é¡¹ï¼‰ docsï¼šä¿®æ”¹æ–‡æ¡£ï¼ˆdocumentationï¼‰ perfï¼šæ”¹å–„æ€§èƒ½å’Œä½“ç°çš„ä¿®æ”¹ testï¼šæµ‹è¯•ç”¨ä¾‹çš„ä¿®æ”¹ ciï¼šè‡ªåŠ¨åŒ–æµç¨‹é…ç½®ä¿®æ”¹ revertï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ buildï¼šæ”¹å˜æ„å»ºæµç¨‹ï¼Œæ–°å¢ä¾èµ–åº“ã€å·¥å…·ç­‰ï¼ˆä¾‹å¦‚ webpack ä¿®æ”¹ï¼‰(å¯é€‰ï¼‰ scopeï¼šã€å¯é€‰ã€‘ç”¨äºè¯´æ˜ commit çš„å½±å“èŒƒå›´ï¼Œæ¯”å¦‚: route, component, utils, build... subjectï¼šcommit çš„ç®€è¦è¯´æ˜ï¼Œä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦ï¼Œä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚ changeï¼Œè€Œä¸æ˜¯ changed æˆ– changes ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰ å¦‚æœä¿®æ”¹èŒƒå›´ä»¥ä¸Šéƒ½åº”ç”¨ä¸äº†ï¼Œå¯èƒ½å°±æ˜¯ commit åˆå¹¶å¤ªå¤š Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æ ¡éªŒ.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æ ¡éªŒ.html","title":"ä»£ç æ ¡éªŒ","keywords":"","body":"ä»£ç æ ¡éªŒ eslint ä½¿ç”¨ eslint æ¥é¢„å…ˆåˆ¶å®šç¼–ç è§„èŒƒï¼Œå€ŸåŠ©ç¼–è¾‘å™¨çš„é”™è¯¯æ£€æµ‹å’Œæ ¼å¼åŒ–æ¥æ ¼å¼åŒ–ä»£ç ï¼Œæœ‰æ•ˆæ§åˆ¶ä»£ç è´¨é‡ï¼Œä¹Ÿçœå»äº†å¾ˆå¤šæ‰‹å·¥æ“ä½œã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  .eslintrc.js æ–‡ä»¶ï¼Œç”¨äºæ ¡éªŒä»£ç ï¼Œç¼–å†™ eslint ç›¸å…³è§„åˆ™ã€‚ é…ç½® å…¨å±€é…ç½® ä½¿ç”¨å…¨å±€å®‰è£… ESLint åï¼Œä½¿ç”¨çš„ä»»ä½• ESLint æ’ä»¶æˆ–å¯åˆ†äº«çš„é…ç½®ä¹Ÿéœ€è¦å…¨å±€å®‰è£…ã€‚ # å…¨å±€å®‰è£… $ pnpm add -g eslint # åœ¨æœ‰ package.json æ–‡ä»¶çš„é¡¹ç›®ä¸­åˆå§‹åŒ– $ eslint --init åœ¨ VSCode é…ç½®æ–‡ä»¶ setting.json setting.json { // å¦‚æœä½¿ç”¨ yarn å…¨å±€å®‰è£… eslintï¼Œè¦åœ¨ vscode ç¼–è¾‘å™¨çš„ setting.json æ”¹å˜æ­¤é¡¹ \"eslint.packageManager\": \"yarn\", \"eslint.options\": { // æŒ‡å®š .eslintrc.js é…ç½®æ–‡ä»¶è·¯å¾„å³å¯å¯ç”¨è‡ªå®šä¹‰è§„åˆ™æ£€æµ‹ï¼ŒESLint ä¼šæŸ¥æ‰¾å¹¶è‡ªåŠ¨è¯»å– \"configFile\": \"E:/git/github/styleguide/eslint/.eslintrc.js\", // ESLint é»˜è®¤åªæ”¯æŒ js æ–‡ä»¶çš„è„šæœ¬æ£€æµ‹ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ”¯æŒç±» html æ–‡ä»¶ï¼ˆå¦‚ vueï¼‰çš„å†…è”è„šæœ¬æ£€æµ‹ï¼Œè¿˜éœ€è¦å®‰è£… eslint-plugin-html æ’ä»¶ \"plugins\": [\"html\"] }, \"eslint.validate\": [\"javascript\", \"javascriptreact\", \"html\", \"vue\"] } é¡¹ç›®é…ç½® å¦‚æœä»…ä»…æƒ³è®© ESLint æˆä¸ºé¡¹ç›®æ„å»ºç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œæœ¬åœ°å®‰è£… # å®‰è£… eslint & prettier $ pnpm install -D eslint eslint-config-prettier eslint-plugin-prettier @typescript-eslint/parser @typescript-eslint/eslint-plugin prettier eslint-plugin-vue # åˆå§‹åŒ– $ pnpm eslint --init é…ç½®å¥½è§„åˆ™æ–‡ä»¶åï¼Œå®‰è£…ç¼–è¾‘å™¨æ£€æŸ¥æ’ä»¶ï¼Œæ¯”å¦‚ vscode ä¸­æ·»åŠ  eslint å’Œ vetur æ’ä»¶ï¼Œå®‰è£…å¥½äº†ä¹‹åï¼Œä¼šè‡ªåŠ¨æ ¹æ®ä½ ä¸Šé¢é…ç½®çš„è§„åˆ™è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œä¸åˆæ ¼çš„ä¼šé«˜äº®æ˜¾ç¤ºã€‚ å…·ä½“é…ç½® ä½¿ç”¨ .eslintrc.* æ–‡ä»¶ï¼ˆæ”¯æŒ JSON å’Œ YAML ä¸¤ç§è¯­æ³•ï¼‰ .eslintrc æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œåˆ™ä¼šåº”ç”¨åˆ°æ•´ä¸ªé¡¹ç›®ï¼›å¦‚æœå­ç›®å½•ä¸­ä¹ŸåŒ…å« .eslintrc æ–‡ä»¶ï¼Œåˆ™å­ç›®å½•ä¼šå¿½ç•¥æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ï¼Œåº”ç”¨è¯¥ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°å¯¹ä¸åŒç¯å¢ƒçš„ä»£ç åº”ç”¨ä¸åŒçš„è§„åˆ™ã€‚ module.exports = { // æŒ‡å®šè¦å¯ç”¨çš„ç¯å¢ƒï¼Œä»¥ä¿è¯åœ¨è¿›è¡Œä»£ç æ£€æµ‹æ—¶ä¸ä¼šæŠŠè¿™äº›ç¯å¢ƒé¢„å®šä¹‰çš„å…¨å±€å˜é‡è¯†åˆ«æˆæœªå®šä¹‰çš„å˜é‡è€ŒæŠ¥é”™ env: { browser: true, es6: true, node: true, }, // å¯ç”¨æ¨èè§„åˆ™ extends: ['eslint:recommended', 'plugin:vue/essential'], // è„šæœ¬åœ¨æ‰§è¡ŒæœŸé—´è®¿é—®çš„é¢å¤–çš„å…¨å±€å˜é‡ globals: { Atomics: 'readonly', SharedArrayBuffer: 'readonly', }, // æŒ‡å®šè§£æå™¨ parse: '', // æŒ‡å®šæƒ³è¦æ”¯æŒçš„ JavaScript è¯­è¨€é€‰é¡¹, æŒ‡å®šè§£æå™¨é€‰é¡¹ parserOptions: { ecmaVersion: 2018, sourceType: 'module', }, plugins: ['vue'], // å¯ç”¨çš„è§„åˆ™åŠå…¶å„è‡ªçš„é”™è¯¯çº§åˆ« rules: {}, // åˆ«äººå¯ä»¥ç›´æ¥ä½¿ç”¨ä½ é…ç½®å¥½çš„ESLint root: true, } åœ¨ package.json ä¸­æ·»åŠ  eslintConfig é…ç½®å— { \"name\": \"mypackage\", \"version\": \"0.0.1\", \"eslintConfig\": { \"env\": { \"browser\": true, \"node\": true } } } ç›´æ¥åœ¨ä»£ç æ–‡ä»¶ä¸­å®šä¹‰ ä»£ç æ–‡ä»¶å†…é…ç½®çš„è§„åˆ™ä¼šè¦†ç›–é…ç½®æ–‡ä»¶é‡Œçš„è§„åˆ™ã€‚ å±€éƒ¨ç¦ç”¨ eslint: å•ä¸ª js æ–‡ä»¶ç¦ç”¨ ESLint è¯­æ³•æ ¡éªŒï¼šåœ¨ä»£ç é¡¶éƒ¨æ·»åŠ ä¸€è¡Œæ³¨é‡Š /* eslint-disable */ ç¦ç”¨æŸä¸ªä»£ç å—çš„æ ¡éªŒï¼šåœ¨ä»£ç å—é¡¶éƒ¨å’Œåº•éƒ¨åŠ  /* eslint-disable */ é¿å¼€æŒ‡å®šçš„æ ¡éªŒè§„åˆ™ /* eslint-disable no-new */ ç¦ç”¨å½“å‰è¡Œï¼šåœ¨å½“å‰è¡Œ // eslint-disable-line ç¦ç”¨ä¸‹ä¸€è¡Œï¼šåœ¨ä¸Šä¸€è¡Œ // eslint-disable-next-line å¿½ç•¥æ ¡éªŒ åœ¨ package.json é…ç½® \"eslintIgnore\" æˆ–æ·»åŠ æ–‡ä»¶ .eslintignore åˆ›å»ºè‡ªå·±é£æ ¼çš„ eslint æ’ä»¶ package.json { \"eslintConfig\": { \"root\": true, \"extends\": [\"xxx\"] } } Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æ ¼å¼åŒ–.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/ä»£ç æ ¼å¼åŒ–.html","title":"ä»£ç æ ¼å¼åŒ–","keywords":"","body":"ä»£ç æ ¼å¼åŒ– prettier prettier æ˜¯ä¸€æ¬¾å¼ºåŠ¿æ­¦æ–­çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå®ƒå‡ ä¹ç§»é™¤äº†ç¼–è¾‘å™¨æœ¬èº«æ‰€æœ‰çš„å¯¹ä»£ç çš„æ“ä½œæ ¼å¼ï¼Œç„¶åé‡æ–°æ˜¾ç¤ºã€‚å°±æ˜¯ä¸ºäº†è®©æ‰€æœ‰ç”¨è¿™å¥—è§„åˆ™çš„äººæœ‰å®Œå…¨ç›¸åŒçš„ä»£ç ã€‚åœ¨å›¢é˜Ÿåä½œå¼€å‘çš„æ—¶å€™æ›´æ˜¯ä½“ç°å‡ºå®ƒçš„ä¼˜åŠ¿ã€‚ä¸ eslintï¼Œtslint ç­‰å„ç§æ ¼å¼åŒ–å·¥å…·ä¸åŒçš„æ˜¯ï¼Œprettier åªå…³å¿ƒä»£ç æ ¼å¼åŒ–ï¼Œè€Œä¸å…³å¿ƒè¯­æ³•é—®é¢˜ã€‚ é…ç½® vscode å®‰è£… prettier æ’ä»¶ å…¨å±€é…ç½®ï¼šsetting.json é¡¹ç›®é…ç½®ï¼šprettier.config.jsã€.prettierrc setting.json // \"prettier.configPath\": \"./prettier.config.js\", \"prettier.printWidth\": 110, \"prettier.tabWidth\": 2, \"prettier.singleQuote\": true, \"prettier.semi\": false, \"prettier.useTabs\": false, \"prettier.trailingComma\": \"es5\", \"prettier.bracketSpacing\": true, \"prettier.arrowParens\": \"avoid\", \"prettier.proseWrap\": \"preserve\", \"prettier.endOfLine\": \"auto\", \"prettier.htmlWhitespaceSensitivity\": \"ignore\", \"prettier.bracketSameLine\": false, \"prettier.vueIndentScriptAndStyle\": true, \"prettier.useEditorConfig\": false, prettier é™åˆ¶ standard è§„åˆ™è¦æ±‚å‡½æ•°åå’Œæ‹¬å·ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè¿™å°±æ˜¯ space-before-function-paren è§„åˆ™ï¼ˆESLint æœ¬èº«ä¹Ÿä¼šé»˜è®¤å¼€å¯è¿™ä¸ªè§„åˆ™ï¼‰ã€‚ ä½†æ˜¯ prettier å®Œå…¨æ²¡æœ‰è¿™ä¸ªè§„åˆ™ã€‚ è§£å†³ï¼š eslint å’Œ prettier ä¼šæœ‰å†²çªï¼Œå®‰è£…prettier-eslintåŒ… prettier çš„ä¸€äº›è§„åˆ™å’Œ eslint çš„ä¸€äº›è§„åˆ™å¯èƒ½å­˜åœ¨å†²çªï¼Œæ‰€ä»¥éœ€è¦å°† eslint çš„ä¸€äº›å¯èƒ½ä¸ prettier å‘ç”Ÿå†²çªçš„ä»£ç æ ¼å¼åŒ–è§„åˆ™å…³é—­ã€‚æ¯æ¬¡ git commit çš„æ—¶å€™ï¼Œè¦å…ˆæ‰§è¡Œ prettier ä»¥åŠ eslint å¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–å’Œè´¨é‡æ£€æŸ¥ï¼Œç¡®ä¿ä»£ç æ²¡æœ‰é—®é¢˜ä¹‹åå†æäº¤ã€‚ Vue é¡¹ç›®ä½¿ç”¨ eslint + prettier è§„èŒƒä»£ç é£æ ¼ prettier-eslint æ˜¯æ€ä¹ˆè®©ç»“æœå˜å¾—æ­£ç¡®äº†å‘¢ï¼Ÿæ˜¨å¤©æˆ‘å»å®ƒçš„ github çœ‹äº†çœ‹ï¼ŒåŸæ¥å®ƒæ˜¯å…ˆæŠŠä»£ç ç”¨ prettier æ ¼å¼åŒ–ï¼Œç„¶åå†ç”¨ ESLint fixã€‚è¿™å’Œ vscode ä¿å­˜æ–‡ä»¶æ—¶çš„æµç¨‹æ˜¯ç›¸åçš„ã€‚è¿™æ ·ç­‰äºæ˜¯è°ƒè½¬äº†é¡ºåºï¼Œæœ€åæˆ‘ä»¬åªè¦ ESLint fix çš„ç»“æœå°±è¡Œäº†ã€‚ å…¶ä»–ç‚¹ .prettierrc çš„ä¼˜å…ˆçº§ä¼šé«˜äºåœ¨ vscode å…¨å±€é…ç½® settings.json ä¸­æ ¼å¼åŒ–é…ç½®çš„ä¼˜å…ˆçº§ vetur + prettier Vetur æ’ä»¶å†…éƒ¨é»˜è®¤ä½¿ç”¨ prettier è¿›è¡Œæ ¼å¼åŒ–çš„ï¼Œä½†æ˜¯ç”±äº Vetur çš„é»˜è®¤æ ¼å¼åŒ–é…ç½®ä¸æˆ‘ä»¬æœŸæœ›çš„æœ‰æ‰€å‡ºå…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•ç‹¬å¯¹ Vetur çš„ prettier è¿›è¡Œé…ç½® é…ç½® é…ç½®æ ¼å¼åŒ–æ–¹å¼ä¸º ts setting.json // prettieråœ¨æ ¼å¼åŒ–çš„æ—¶å€™ å‡½æ•°ååä¸ä¼šç•™æœ‰ç©ºæ ¼ã€‚éœ€è¦ä½¿ç”¨veturè°ƒç”¨vscodeè‡ªå¸¦çš„tsæ ¼å¼åŒ–æ’ä»¶è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ \"vetur.format.defaultFormatter.js\": \"vscode-typescript\", \"javascript.format.insertSpaceBeforeFunctionParenthesis\": true \"vetur.format.defaultFormatterOptions\": { \"prettier\": { \"semi\": false, // æ ¼å¼åŒ–ä¸åŠ åˆ†å· \"singleQuote\": true, // æ ¼å¼åŒ–ä»¥å•å¼•å·ä¸ºä¸» \"printWidth\": 120, // è¶…è¿‡æœ€å¤§å€¼æ¢è¡Œ \"tabWidth\": 2, // ç¼©è¿›å­—èŠ‚æ•° \"useTabs\": false, // ç¼©è¿›ä¸ä½¿ç”¨tabï¼Œä½¿ç”¨ç©ºæ ¼ \"proseWrap\": \"preserve\", // ä»£ç è¶…å‡ºæ˜¯å¦è¦æ¢è¡Œ preserveä¿ç•™ \"arrowParens\": \"avoid\", // (x) => {} ç®­å¤´å‡½æ•°å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶æ˜¯å¦è¦æœ‰å°æ‹¬å·ã€‚avoidï¼šçœç•¥æ‹¬å· \"bracketSpacing\": true, // åœ¨å¯¹è±¡ï¼Œæ•°ç»„æ‹¬å·ä¸æ–‡å­—ä¹‹é—´åŠ ç©ºæ ¼ \"{ foo: bar }\" \"disableLanguages\": [\"vue\"], // ä¸æ ¼å¼åŒ–vueæ–‡ä»¶ï¼Œvueæ–‡ä»¶çš„æ ¼å¼åŒ–å•ç‹¬è®¾ç½® \"endOfLine\": \"auto\", // ç»“å°¾æ˜¯ \\n \\r \\n\\r auto \"eslintIntegration\": true, //ä¸è®©prettierä½¿ç”¨eslintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ \"htmlWhitespaceSensitivity\": \"ignore\", \"jsxBracketSameLine\": false, // åœ¨jsxä¸­æŠŠ'>' æ˜¯å¦å•ç‹¬æ”¾ä¸€è¡Œ \"jsxSingleQuote\": false, // åœ¨jsxä¸­ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å· \"parser\": \"babylon\", // æ ¼å¼åŒ–çš„è§£æå™¨ï¼Œé»˜è®¤æ˜¯babylon \"requireConfig\": false, // Require a 'prettierconfig' to format prettier \"stylelintIntegration\": false, //ä¸è®©prettierä½¿ç”¨stylelintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ \"trailingComma\": \"es5\", // åœ¨å¯¹è±¡æˆ–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åé¢æ˜¯å¦åŠ é€—å·ï¼ˆåœ¨ES5ä¸­åŠ å°¾é€—å·ï¼‰ \"tslintIntegration\": true, // ä¸è®©prettierä½¿ç”¨tslintçš„ä»£ç æ ¼å¼è¿›è¡Œæ ¡éªŒ \"ignorePath\": \".prettierignore\" // ä¸ä½¿ç”¨prettieræ ¼å¼åŒ–çš„æ–‡ä»¶å¡«å†™åœ¨é¡¹ç›®çš„.prettierignoreæ–‡ä»¶ä¸­ }, \"js-beautify-html\": { // - auto: ä»…åœ¨è¶…å‡ºè¡Œé•¿åº¦æ—¶æ‰å¯¹å±æ€§è¿›è¡Œæ¢è¡Œã€‚ // - force: å¯¹é™¤ç¬¬ä¸€ä¸ªå±æ€§å¤–çš„å…¶ä»–æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œã€‚ // - force-aligned: å¯¹é™¤ç¬¬ä¸€ä¸ªå±æ€§å¤–çš„å…¶ä»–æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œï¼Œå¹¶ä¿æŒå¯¹é½ã€‚ // - force-expand-multiline: å¯¹æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œã€‚ // - aligned-multiple: å½“è¶…å‡ºæŠ˜è¡Œé•¿åº¦æ—¶ï¼Œå°†å±æ€§è¿›è¡Œå‚ç›´å¯¹é½ã€‚ \"wrap_attributes\": \"auto\", \"wrap_line_length\": 100 } }, éœ€è¦å¢åŠ å…¶ä»–é…ç½®ï¼Œæ‰èƒ½è®© vetur ä¸‹çš„ format ç”Ÿæ•ˆ setting.json // é»˜è®¤çš„æ ¼å¼åŒ–ç¨‹åº ã€é‡è¦ã€‘ï¼šé…ç½®äº†æ‰ä¼šç”Ÿæ•ˆ \"[vue]\": { \"editor.defaultFormatter\": \"octref.vetur\" }, \"vetur.format.defaultFormatter.js\": \"prettier\", // é…ç½®æˆ prettierï¼Œveturä¸‹çš„prettieræ‰ç”Ÿæ•ˆ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/æ— æ¡†æ¶é¡¹ç›®gulpç¯‡.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/æ— æ¡†æ¶é¡¹ç›®gulpç¯‡.html","title":"æ— æ¡†æ¶é¡¹ç›®gulpç¯‡","keywords":"","body":"å®˜ç½‘å·¥ç¨‹åŒ– - gulp ç¯‡ gulp gulp æ˜¯ä¸€ç§åŸºäºæµçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼ŒåŸºäº nodeJs ä¸­çš„ streamï¼ˆæµï¼‰æ¥è¯»å–å’Œå†™å…¥æ•°æ®ï¼Œç›¸å¯¹äº grunt ç›´æ¥å¯¹æ–‡ä»¶è¿›è¡Œ IO è¯»å†™æ¥è¯´é€Ÿåº¦æ›´å¿«ã€‚ å€ŸåŠ©äº gulpï¼Œæˆ‘ä»¬å¯ä»¥è‡ªåŠ¨åŒ–åœ°å®Œæˆ js/sass/less/css ç­‰æ–‡ä»¶çš„çš„æµ‹è¯•ã€æ£€æŸ¥ã€åˆå¹¶ã€å‹ç¼©ã€æ ¼å¼åŒ–ï¼Œå¹¶ç›‘å¬æ–‡ä»¶åœ¨æ”¹åŠ¨åé‡å¤æŒ‡å®šçš„è¿™äº›æ­¥éª¤ã€‚ è¦ç‚¹ï¼š æ–‡ä»¶å‹ç¼©ï¼ˆcssnano uglify-js imgminï¼‰ babel è½¬æ¢ å›¾ç‰‡è½¬ base64 px2rem css é›ªç¢§å›¾ è‡ªåŠ¨æ·»åŠ  css å‰ç¼€ autoprefixer ç»„ä»¶å¤ç”¨ ä»£ç å¤ç”¨ï¼šä¸ºäº†ä»£ç çš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼ˆå‡å°‘éœ€è¦å˜åŠ¨æ—¶çš„ä¿®æ”¹èŒƒå›´ï¼‰ æ’ä»¶gulp-file-includeï¼ša plugin of gulp for file include ç”¨æ³• æ•™ç¨‹ï¼šHTML ä»£ç å¤ç”¨å®è·µ ç›®å½•ï¼š |-node_modules |-src |-include |-index.html |-dist gulpfile.js gulpfile.js var gulp = require('gulp') var fileinclude = require('gulp-file-include') gulp.task('fileinclude', function () { gulp .src('src/index.html') .pipe(fileinclude({ prefix: '@@', basepath: '@file' })) .pipe(gulp.dest('dist')) }) è¿™é‡Œçš„@file å°±æ˜¯æŒ‡src/index.htmlï¼Œå¼•å…¥åˆ°è¯¥é¡µé¢ã€‚basepath å°±æ˜¯æŒ‡å…¬ç”¨ç»„ä»¶å­˜åœ¨çš„ä½ç½®ã€‚ tips æœ€åæ„å»ºå‡ºæ¥çš„ include å…¬ç”¨æ–‡ä»¶ä¼šåˆå¹¶åˆ° dist/index.html é‡Œã€‚ä¸ä¼šç”Ÿæˆå•ç‹¬çš„æ–‡ä»¶ã€‚ src/index.html å¼•å…¥å…¬å…±æ–‡ä»¶æ—¶ä»éœ€è¦æ·»åŠ ç›¸åº”çš„è·¯å¾„ï¼š@@include('include/header.html') ä½†å…¬ç”¨æ–‡ä»¶é‡Œè®¾ç½®é“¾æ¥æ—¶éœ€è¦è€ƒè™‘ build å‡ºåçš„ç›¸åº”è·¯å¾„ å› ä¸ºå…±ç”¨çš„ç»„ä»¶æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¦‚æœç»„ä»¶é‡Œæœ‰é“¾æ¥ï¼Œè¦ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„é¡µé¢éœ€è¦åœ¨åŒä¸€è·¯å¾„ä¸‹ï¼Œæ‰ä¸ä¼šé“¾æ¥é”™è¯¯ã€‚ css é›ªç¢§å›¾ ä½¿ç”¨é›ªç¢§å›¾ï¼šç›®çš„æ˜¯å‡å°‘ç½‘ç»œä¼ è¾“ï¼Œä½†è®¾ç½®èƒŒæ™¯å›¾å°ºå¯¸å¤§å°ï¼Œæ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œè€Œä¸”é›ªç¢§å›¾çš„ç»´æŠ¤ä¹Ÿä¸æ€ä¹ˆä¾¿åˆ©ï¼Œå¥½åƒä½¿ç”¨ç‡è¶Šæ¥è¶Šä½äº†ï¼Œéƒ½è¢« iconfont å–ä»£äº†ï¼Œä¹Ÿå¯ä»¥ç”¨æ„å»ºå·¥å…· background-image background-position iconmoon iconmoon æ˜¯ä¸€ä¸ªåœ¨çº¿å·¥å…·ï¼Œå¯ä»¥ä¸Šä¼ è‡ªå·±çš„ SVG æ ¼å¼çš„å›¾æ ‡æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä»å…¶ä¸­é€‰æ‹©å·²æœ‰çš„å›¾æ ‡ï¼Œ å®šåˆ¶å‡ºè‡ªå·±çš„å­—ä½“æ–‡ä»¶ã€‚ å°å›¾æ ‡ç­‰ç”¨ iconfont ä»£æ›¿ï¼šä½œä¸ºå•ä¸ª DOM èŠ‚ç‚¹ä½¿ç”¨ï¼Œå¯ä»¥è®¾ç½®å¤§å°ã€é¢œè‰²ç­‰ï¼Œéå¸¸ä¾¿åˆ©ã€‚ ä¸ªäººå»ºè®®å‰ç«¯æ¥ç»´æŠ¤è¿™ä¸ªå­—ä½“åŒ…ï¼Œæ¯æ¬¡æœ‰æ–°å¢çš„å›¾æ ‡ï¼Œè®©è®¾è®¡å¸ˆç»™æˆ‘ä»¬å¯¹åº”çš„ svg æ–‡ä»¶å³å¯ï¼Œå‰ç«¯è‡ªå·±å» icomoon.io/ è¿™ä¸ªç½‘ç«™ï¼Œå¯¼å…¥åŸæ¥çš„ selection.json æ–‡ä»¶ï¼Œå¢é‡ç”Ÿæˆæ–°çš„ cssï¼Œæ— æ¯”æ–¹ä¾¿ã€‚ä¹‹å‰ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸º iconfont åªèƒ½æ˜¯å•è‰²çš„å‘¢ï¼Œå…¶å®ä¹Ÿå¯ä»¥æ˜¯å¤šè‰²çš„ï¼Œsvg é‡Œé¢å¤šä¸€äº› path è€Œå·²ï¼Œè®¾è®¡å¸ˆä¼šæå®šçš„ã€‚ç”Ÿæˆå­—ä½“åï¼Œå‰ç«¯æ­£å¸¸å¼•ç”¨å³å¯ï¼ˆå¼•ç”¨çš„æ—¶å€™ï¼Œå¤šè‰²å­—ä½“ä¼šå¤šä¸€äº›æ ‡ç­¾ï¼‰ ä½¿ç”¨ base64 æ ¼å¼çš„å›¾ç‰‡ï¼šæœ‰äº›å°å›¾ç‰‡ï¼Œå¯èƒ½è‰²å½©æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªæ—¶å€™å†ç”¨ iconfont å°±æœ‰ç‚¹ä¸åˆé€‚äº†ï¼Œæ­¤æ—¶å¯ä»¥å°†å…¶è½¬åŒ–ä¸º base64 æ ¼å¼ï¼ˆä¸èƒ½ç¼“å­˜ï¼‰ï¼Œç›´æ¥åµŒåœ¨ src ä¸­ï¼Œæ¯”å¦‚ webpack çš„ url-loader è®¾ç½® limit å‚æ•°å³å¯ Writing efficient CSS selectors ç§æœ‰å‰ç¼€ css é‡‡ç”¨ autoprefixer æˆ–è€… prefixfree ç­‰ï¼Œè®© CSS çœŸæ­£çš„ Write once, run anywhereã€‚ css å¸¦å‰ç¼€çš„æ˜¯æµè§ˆå™¨ç§æœ‰å®ç°ï¼Œä¸å¸¦å‰ç¼€çš„æ˜¯æ ‡å‡†ï¼ŒåŠ å‰ç¼€æ˜¯ä¸ºäº†å…¼å®¹ PC ç«¯ï¼š ä¸éœ€è¦åœ¨æºä»£ç ä¸­å†™ç§æœ‰æœ‰å±æ€§å‰ç¼€äº†ï¼Œåªéœ€è¦æ§åˆ¶ä½ è‡ªå·±éœ€è¦å…¼å®¹ä»€ä¹ˆæ ·çš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚æ­£ç¡®çš„å§¿åŠ¿æ˜¯åœ¨é¡¹ç›®æ„å»ºé˜¶æ®µï¼Œç”¨autoprefixerè¿™ä¸ªå·¥å…·æ¥ä¸ºç¼–è¯‘åçš„ css è‡ªåŠ¨è¡¥å…¨æ‰€éœ€çš„å‰ç¼€ã€‚æ— è®ºä½ æ˜¯ç”¨ webpackã€gulpã€grunt è¿˜æ˜¯ fisï¼Œå®ƒéƒ½èƒ½å®Œç¾é…åˆã€‚ è¿™ä¸ªå·¥å…·ä¸­å†…ç½®äº†éå¸¸è¯¦å°½çš„æ•°æ®ï¼Œæè¿°æ¯ä¸ªç§æœ‰æœ‰å±æ€§åœ¨æµè§ˆå™¨ä¸‹çš„å„ç‰ˆæœ¬ä¸‹ï¼Œæ˜¯å¦éœ€è¦å‰ç¼€ã€‚é…ç½®è¯¥å·¥å…·çš„æ—¶å€™ï¼Œåªè¦æŒ‡æ˜éœ€è¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ï¼Œå®ƒå°±ä¼šå¾ˆæ™ºèƒ½çš„æŒ‰éœ€æ·»åŠ å‰ç¼€äº†ã€‚å¦‚æœç§æœ‰è¯­æ³•ä¸æ ‡å‡†æœ‰å·®å¼‚ï¼Œå®ƒä¹Ÿèƒ½è‡ªåŠ¨å¤„ç†ã€‚ åªæœ‰ä¸€ç§æƒ…å†µä¸‹ä¾‹å¤–ï¼Œè¿˜æ˜¯è¦å†™å‰ç¼€ï¼Œé‚£å°±æ˜¯ä½ å†™çš„è¿™æ¡ css å±æ€§æ²¡æœ‰å¯¹åº”çš„ w3c æ ‡å‡†è¯­æ³•ã€‚ ç§»åŠ¨ç«¯ï¼š ç›®å‰å¤§éƒ¨åˆ†è®¾å¤‡çš„æµè§ˆå™¨éƒ½æ˜¯åŸºäº webkit å®ç°çš„ï¼Œè™½ç„¶å…¶å®ƒå‚å•†çš„ä¹Ÿæœ‰ï¼Œä½†ä¸æ˜¯ä¸»æµã€‚æ‰€ä»¥ï¼Œç§»åŠ¨ç«¯å¯ä»¥å‡ ä¹ä¸ç”¨åŠ è¿™äº›ç§æœ‰å‰ç¼€ï¼Œä¸ªåˆ«ç”±äºç‰ˆæœ¬è¿­ä»£ï¼Œéœ€è¦åŠ -webkit-å‰ç¼€å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨å°±è¡Œäº†ã€‚ æµè§ˆå™¨ç‰ˆæœ¬ browserslist å¯ä»¥å†™åœ¨ package.json é‡Œ https://github.com/browserslist/browserslist#readme \"browserslist\": [ \"last 1 version\", \"> 1%\", \"maintained node versions\", \"not dead\" ] autoprefixer({ browsers: ['last 5 versions', 'Android >= 4.0'], cascade: true, // æ˜¯å¦ç¾åŒ–å±æ€§å€¼ é»˜è®¤ï¼štrue åƒè¿™æ ·ï¼š // -webkit-transform: rotate(45deg); // transform: rotate(45deg); remove: true, // æ˜¯å¦å»æ‰ä¸å¿…è¦çš„å‰ç¼€ é»˜è®¤ï¼štrue }) gulp é…ç½® gulpfile.js const gulp = require('gulp') const postcss = require('gulp-postcss') const sourcemaps = require('gulp-sourcemaps') const autoprefixer = require('autoprefixer') // æ·»åŠ csså‰ç¼€ const del = require('del') // æ¸…ç©ºç›®å½• const concat = require('gulp-concat') // æ–‡ä»¶åˆå¹¶ const connect = require('gulp-connect') // èµ·serveræœåŠ¡ const cssnano = require('gulp-cssnano') // å‹ç¼©css const htmlmin = require('gulp-htmlmin') // å‹ç¼©html const imagemin = require('gulp-imagemin') // å‹ç¼©å›¾ç‰‡ const pngquant = require('imagemin-pngquant') // å‹ç¼©pngå›¾ç‰‡ const spritesmith = require('gulp.spritesmith') // åˆå¹¶spriteå›¾ç‰‡ const uglify = require('gulp-uglify') // å‹ç¼©js const cache = require('gulp-cache') // ç¼“å­˜èµ„æº const base64 = require('gulp-base64') // è½¬æ¢å›¾ç‰‡ const fileinclude = require('gulp-file-include') // ç»„ä»¶å¤ç”¨ const gutil = require('gulp-util') //æ’é”™å°å·¥å…· const preprocess = require('gulp-preprocess') /* CLEAN: æ¸…ç©ºdistç›®å½• * ------------------------------------------------------ */ gulp.task('clean', async () => { await del(['./dist']) }) /* HTML: å‹ç¼©ï¼Œå¼€å‘çƒ­æ›´æ–°ï¼Œç”Ÿäº§ç¯å¢ƒ * ------------------------------------------------------ */ const htmlMin = () => { return gulp .src(['./src/*.html', './src/include/*.html']) .pipe( fileinclude({ prefix: '@@', basepath: '@file', indent: true, }) ) .pipe( htmlmin({ collapseWhitespace: true, minifyJS: true, minifyCSS: true, removeComments: true, }) ) .pipe(gulp.dest('./dist/')) } gulp.task('html:dev', async () => { await htmlMin().pipe(connect.reload()) }) gulp.task('html:build', async () => { await htmlMin() }) /* CSSï¼šå‰ç¼€ã€è½¬å›¾ç‰‡ä¸ºbase64ã€åˆå¹¶é‡å‘½åã€å‹ç¼© * ------------------------------------------------------ */ const cssMin = () => { return ( gulp .src('./src/assets/css/*.css') .pipe(sourcemaps.init()) .pipe(postcss([autoprefixer()])) // .pipe(sourcemaps.write(\".\")) .pipe( base64({ maxImageSize: 8 * 1024, // åªè½¬8kbä»¥ä¸‹çš„å›¾ç‰‡ä¸ºbase64 }) ) .pipe(concat('main.min.css')) .pipe(cssnano()) .pipe(gulp.dest('./dist/assets/css')) ) } gulp.task('css:dev', async () => { await cssMin().pipe(connect.reload()) }) gulp.task('css:build', async () => { await cssMin() }) /* JSï¼šåˆå¹¶å‹ç¼© * ------------------------------------------------------ */ const jsMin = () => { return gulp .src('./src/assets/js/*.js') .pipe(preprocess({ context: { NODE_ENV: 'production' } })) .pipe(concat('main.min.js')) .pipe( uglify().on('error', function (err) { gutil.log(gutil.colors.red('[Error]'), err.toString()) this.emit('end') }) ) .pipe(gulp.dest('./dist/assets/js')) } const jsMinDev = () => { return gulp .src('./src/assets/js/*.js') .pipe(preprocess({ context: { NODE_ENV: 'development' } })) .pipe(concat('main.min.js')) .pipe( uglify().on('error', function (err) { gutil.log(gutil.colors.red('[Error]'), err.toString()) this.emit('end') }) ) .pipe(gulp.dest('./dist/assets/js')) } gulp.task('js:dev', async () => { await jsMinDev().pipe(connect.reload()) }) gulp.task('js:build', async () => { await jsMin() }) /* IMAGEï¼šå‹ç¼© * ------------------------------------------------------ */ const imageMin = () => { return gulp .src(['./src/assets/img/*.png', './src/assets/img/*.jpg']) .pipe(cache(imagemin({ progressive: true, use: [pngquant()] }))) .pipe(gulp.dest('./dist/assets/img')) } // åˆå¹¶spriteå›¾ const spriteData = () => { return gulp .src('./src/assets/img/sprite/*.png') .pipe( spritesmith({ imgName: 'img/sprite.png', cssName: 'css/sprite.css', cssFormat: 'css', padding: 10, }) ) .pipe(gulp.dest('./dist/assets')) } gulp.task('image:dev', async () => { await imageMin().pipe(connect.reload()) await spriteData().pipe(connect.reload()) }) gulp.task('image:build', async () => { await imageMin() await spriteData() }) /* DEVï¼šå¼€å‘ç¯å¢ƒæ‰§è¡Œå¯¹åº”çš„å¼€å‘ä»»åŠ¡ * ------------------------------------------------------ */ // ç›‘å¬æºæ–‡ä»¶å˜åŒ– gulp.task('watch', () => { gulp.watch('./src/assets/css/*.css', gulp.series('css:dev')) gulp.watch('./src/assets/js/*.js', gulp.series('js:dev')) gulp.watch(['./src/assets/img/*.png', './src/assets/img/*.jpg'], gulp.series('image:dev')) gulp.watch('./src/**/*.html', gulp.series('html:dev')) }) // å¯åŠ¨æœåŠ¡ // visit localhost:3000 gulp.task('server', () => { connect.server({ root: './dist', // ä»¥æ ¹ç›®å½•ä½œä¸ºå…¥å£ port: 3000, livereload: true, }) }) const gulpdev = () => { return gulp.series(gulp.parallel('watch', 'server')) } gulp.task('dev', gulp.series(gulp.parallel('watch', 'server'))) /* BUILDï¼šç”Ÿäº§ç¯å¢ƒæ‰§è¡Œå¯¹åº”çš„æ„å»ºä»»åŠ¡ * ------------------------------------------------------ */ gulp.task('build', gulp.series('clean', gulp.parallel('html:build', 'js:build', 'image:build', 'css:build'))) /* TESTï¼šæµ‹è¯•ç¯å¢ƒæ‰§è¡Œå¯¹åº”çš„æ„å»ºä»»åŠ¡ * ------------------------------------------------------ */ gulp.task('test', gulp.series('clean', gulp.parallel('html:build', 'js:dev', 'image:build', 'css:build'))) Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "},"é¡¹ç›®å·¥ç¨‹åŒ–/æ¨¡å—è”é‚¦Module-Federation.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/æ¨¡å—è”é‚¦Module-Federation.html","title":"æ¨¡å—è”é‚¦Module-Federation","keywords":"","body":"æ¨¡å—è”é‚¦ Module Federation Module Federation æ˜¯ webpack5 æä¾›çš„ç”¨äºåº”ç”¨ä¹‹é—´å…±äº«æ¨¡å—çš„æœºåˆ¶ï¼Œåªè¦ç”¨ ModuleFederationPlugin å£°æ˜ exposes çš„æ¨¡å—ï¼Œå¦ä¸€ä¸ªåº”ç”¨é‡Œç”¨ ModuleFederationPlugin å£°æ˜ remotes å¯¼å…¥çš„æ¨¡å—ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨åˆ«çš„åº”ç”¨çš„æ¨¡å—äº†ã€‚è¿™å°±æ˜¯å®ƒä¸ºä»€ä¹ˆä¼šå«æ¨¡å—è”é‚¦ã€‚ é™¤äº†ä¸šåŠ¡æ¨¡å—å¤–ï¼Œåº“æ¨¡å—ä¹Ÿå¯ä»¥å…±äº«ã€‚åªä¸è¿‡è¦æ³¨æ„è¿™äº›æ¨¡å—éƒ½æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œæ‰€ä»¥è¦ç”¨ import()æ¥å¼‚æ­¥å¼•å…¥ã€‚å•ç‹¬å¼•å…¥å¼‚æ­¥ç»„ä»¶éœ€è¦ç”¨ React.lazy(() => import('xx/yy')) çš„å½¢å¼ï¼Œæˆ–è€…æŠŠæ•´ä¸ªåº”ç”¨ç”¨ import() æ¥å¼‚æ­¥åŠ è½½ã€‚ æ­¤å¤–ï¼Œè¿˜è¦æ³¨æ„è¦å›ºå®š output.publicPathï¼Œä¸ç„¶å¼•å…¥æ¨¡å—çš„æ—¶å€™è·¯å¾„ä¼šæœ‰é—®é¢˜ã€‚ webpack.config.js aaa çš„ webpack é…ç½® // visit aaa: localhost:3000 const { ModuleFederationPlugin } = require('webpack').container; module.exports = function () { return { output: { // webpack uses `publicPath` to determine where the app is being served from. // It requires a trailing slash, or the file assets will get an incorrect path. // We inferred the \"public path\" (such as / or /my-project) from homepage. // publicPath: paths.publicUrlOrPath, publicPath: 'http://localhost:3000/', }, plugins: [ new ModuleFederationPlugin({ name: 'aaa_app', filename: 'aaaEntry.js', // åˆ›å»ºä¸€ä¸ª name ä¸º aaa_app çš„å…±äº«åŒ…ã€‚è¿™ä¸ªå…±äº«åŒ… exposes æš´éœ²å‡ºäº† Button è¿™ä¸ªå…±äº«æ¨¡å—ã€‚å®ƒå¯¹åº”çš„æ–‡ä»¶åæ˜¯ aaaEntry.jsã€‚ // é‡è·‘æœåŠ¡åä¼šçœ‹åˆ°é¡µé¢è¯·æ±‚äº† aaaEntry.js è¿™ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢å£°æ˜äº†ä¸€ä¸ª aaa_app çš„å˜é‡ã€‚è¿™å°±æ˜¯è¯´ webpack æŠŠè¿™ä¸ªç»„ä»¶çš„ä»£ç åˆ†ç¦»åˆ°äº†è¿™ä¸ªæ–‡ä»¶é‡Œã€‚è¿™æ ·åˆ«çš„ webpack åº”ç”¨å°±å¯ä»¥ç›´æ¥ç”¨è¿™ä¸ªç»„ä»¶äº†ã€‚ exposes: { './Button': './src/Button/index.jsx', }, remotes: { 'bbb-app': 'bbb_app@http://localhost:3001/bbbEntry.js', } // é™¤äº†å¯¼å‡ºä¸šåŠ¡æ¨¡å—å¤–ï¼Œåº“çš„æ¨¡å—ä¹Ÿå¯ä»¥å…±ç”¨ï¼Œæ¯”å¦‚ reactã€react-dom è¿™ç§åº“ã€‚ shared: { react: { singleton: true, }, 'react-dom': { singleton: true, } }, }), ], }; }; webpack.config.js bbb çš„ webpack é…ç½® // visit bbb: localhost:3001 // å¼•å…¥ aaa çš„ Button ç»„ä»¶ const { ModuleFederationPlugin } = require('webpack').container; module.exports = function () { return { publicPath: 'http://localhost:3001/', plugins: [ new ModuleFederationPlugin({ name: 'bbb_app', filename: 'bbbEntry.js', // å¯¼å‡º bbb åº”ç”¨çš„ link ç»„ä»¶ exposes: { './Link': './src/Link/index.jsx' }, // å¼•å…¥çš„æ—¶å€™ä½¿ç”¨ remotes æ³¨å†Œï¼Œè¿™æ®µé…ç½®å°±æ˜¯æ³¨å†Œäº†ä¸€ä¸ªè¿è¡Œæ—¶çš„ Moduleï¼Œåå­—å« aaa-appï¼Œå®ƒçš„å€¼æ¥è‡ª http://localhost:3000/aaaEntry.js è¿™ä¸ªæ–‡ä»¶é‡Œçš„ aaa_app å˜é‡ã€‚ remotes: { 'aaa-app': 'aaa_app@http://localhost:3000/aaaEntry.js' }, shared: { react: { singleton: true, }, 'react-dom': { singleton: true, } }, }), ], }; }; app.jsx bbb ä½¿ç”¨ aaa çš„ Button // å› ä¸ºæ˜¯å¼‚æ­¥ç»„ä»¶ï¼Œæ‰€ä»¥ç”¨ React.lazy åŒ…è£¹ï¼Œå…·ä½“å–è¿™ä¸ªç»„ä»¶çš„é€»è¾‘å°±æ˜¯ç”¨ webpack æä¾›çš„ import() æ¥å¼‚æ­¥åŠ è½½æ¨¡å—ã€‚ const RemoteButton = React.lazy(() => import('aaa-app/Button')); æ¨¡å—çº§å¾®å‰ç«¯ Module Federation Module Federation æ˜¯å¤©ç”Ÿçš„æ¨¡å—çº§å¾®å‰ç«¯ï¼Œå®ƒå’Œ qiankun ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨åˆ°å¦ä¸€ä¸ªåº”ç”¨çš„ä»£ç æ—¶ï¼Œå¼‚æ­¥å»æŸä¸ªåœ°å€ä¸‹è½½å®ƒçš„ä»£ç ï¼Œç„¶åè·‘èµ·æ¥ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯åº”ç”¨çº§ï¼Œä¸€ä¸ªæ˜¯æ¨¡å—çº§ã€‚ å› ä¸ºå¾®å‰ç«¯åšçš„äº‹æƒ…ä¸å°±æ˜¯ä¸€ä¸ªåº”ç”¨é‡Œå¤ç”¨å¦ä¸€ä¸ªåº”ç”¨çš„ä»£ç ä¹ˆï¼Ÿåªä¸è¿‡ä¸€èˆ¬æ˜¯æ•´ä¸ªåº”ç”¨çš„å…±äº«ï¼Œæ¯”å¦‚ qiankun æ˜¯åœ¨ä¸»åº”ç”¨é‡Œæ³¨å†Œå¾®åº”ç”¨çš„åœ°å€ï¼Œå¹¶ä¸”åœ¨å¾®åº”ç”¨é‡Œå†™ä¸€ä¸‹åŠ è½½ã€å¸è½½ç­‰ç”Ÿå‘½å‘¨æœŸçš„å‡½æ•°ã€‚è¿™æ ·å°±å¯ä»¥åœ¨è·¯ç”±åˆ‡æ¢çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å¾®åº”ç”¨å¹¶æ‰§è¡Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ¥æ¿€æ´»å®ƒã€‚å¾®å‰ç«¯ä¹Ÿå°±æ˜¯å¤šäº†ä¸€ä¸ªå¼‚æ­¥åŠ è½½åº”ç”¨çš„é€»è¾‘ã€‚ è€Œ Module Federation å‘¢ï¼Ÿæ˜¯åœ¨ä¸€ä¸ªåº”ç”¨é‡Œæ³¨å†Œå¦ä¸€ä¸ªåº”ç”¨çš„æ¨¡å—ä»£ç ï¼Œå½“ç”¨åˆ°è¿™äº›æ¨¡å—çš„æ—¶å€™ï¼Œwebpack ä¼šå¼‚æ­¥åŠ è½½å¯¹åº”çš„ chunkï¼Œæ‹¿åˆ°å¯¹åº”å˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å…±äº«çš„æ¨¡å—ã€‚è¿™ä¸ªå’Œåº”ç”¨çº§åˆ«çš„å¾®å‰ç«¯ä¸æ˜¯ä¸€æ ·çš„æµç¨‹ä¹ˆï¼Ÿéƒ½æ˜¯å¼‚æ­¥åŠ è½½å¹¶æ‰§è¡Œä»£ç ã€‚ Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-07-06 17:23:27 "},"é¡¹ç›®å·¥ç¨‹åŒ–/ç‰ˆæœ¬å‘å¸ƒè§„èŒƒ.html":{"url":"é¡¹ç›®å·¥ç¨‹åŒ–/ç‰ˆæœ¬å‘å¸ƒè§„èŒƒ.html","title":"ç‰ˆæœ¬å‘å¸ƒè§„èŒƒ","keywords":"","body":"è‡ªåŠ¨ç‰ˆæœ¬åŒ–å’Œç”Ÿæˆ CHANGELOG å·¥å…· standard-version: include lifecycle stepsï¼ˆbump, changelog, commit, tagï¼‰ è‡ªåŠ¨ä¿®æ”¹ package.json çš„ version ç”Ÿæˆ changlog æäº¤å½“å‰è®°å½• æ‰“ git tag å®‰è£… # å®‰è£…standard-version $ pnpm add -D standard-version # Add an npm run script to your package.json $ npm set-script release \"standard-version\" ä½¿ç”¨ # â€“release-as, -r æŒ‡å®šç‰ˆæœ¬å· # ç¤ºä¾‹ version = v1.0.0 # ä¸‡èƒ½ $ npm release -r x.x.x # v2.0.0 $ npm release -r major # v1.1.0 $ npm release -r minor # v1.0.1 $ npm release -r patch # v1.0.1-0 $ npm release -r prepatch è·³è¿‡æŸäº›æ­¥éª¤ï¼š package.json { \"standard-version\": { \"skip\": { \"changelog\": true } } } ç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒ git tag è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸‰æ®µå¼ï¼šä¸»ç‰ˆæœ¬ï¼ˆmajorï¼‰.æ¬¡ç‰ˆæœ¬ï¼ˆminorï¼‰.ä¿®è®¢ç‰ˆï¼ˆpatchï¼‰ï¼Œå¦‚ v1.2.1 ä¿®æ”¹ä¸»ç‰ˆæœ¬ï¼šæ¶æ„å‡çº§æˆ–æ¶æ„é‡å¤§è°ƒæ•´ï¼Œä¸å…¼å®¹çš„ API ä¿®æ”¹ ä¿®æ”¹æ¬¡ç‰ˆæœ¬ï¼šæ–°åŠŸèƒ½ä¸Šçº¿æˆ–è€…æ¨¡å—å¤§çš„è°ƒæ•´ï¼Œå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ ä¿®æ”¹ä¿®è®¢ç‰ˆï¼šbug ä¿®å¤ä¸Šçº¿ï¼Œå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ å…¶ä»–å®šä¹‰ï¼Œæ¯”å¦‚ï¼š1.2.0-beta.1ï¼Œ1.0.1-alpha.1ï¼Œ3.0.0-rc.1 å†…éƒ¨æµ‹è¯•ç‰ˆ alphaï¼šä¸€èˆ¬ä¸å‘å¤–éƒ¨å‘å¸ƒ,ä¼šæœ‰å¾ˆå¤š Bug.ä¸€èˆ¬åªæœ‰æµ‹è¯•äººå‘˜ä½¿ç”¨ æµ‹è¯•ç‰ˆ betaï¼šè¿™ä¸ªé˜¶æ®µçš„ç‰ˆæœ¬ä¼šä¸€ç›´åŠ å…¥æ–°çš„åŠŸèƒ½ï¼Œåœ¨ alpha ç‰ˆä¹‹åæ¨å‡º æœ€ç»ˆæµ‹è¯•ç‰ˆæœ¬ rc(Release Candidate)ï¼šå¯èƒ½æˆä¸ºæœ€ç»ˆäº§å“çš„å€™é€‰ç‰ˆæœ¬ï¼Œå¦‚æœæœªå‡ºç°é—®é¢˜åˆ™å¯å‘å¸ƒæˆä¸ºæ­£å¼ç‰ˆæœ¬ git tag version // æ‰“ tag git tag -a -m // æ‰“è¯¦ç»†çš„ tag git push origin v1.5 // æ¨é€æŸä¸€tag git push origin --tags // æ¨é€æœ¬åœ°æ‰€æœ‰ tag git tag -d v1.1.1 // åˆ é™¤æœ¬åœ° tag npm tag npm çš„ tag æœ‰è¿™å‡ ç§ç±»å‹ï¼š latestï¼šæœ€åç‰ˆæœ¬ï¼Œnpm install çš„å°±æ˜¯è¿™ä¸ª betaï¼šæµ‹è¯•ç‰ˆæœ¬ï¼Œä¸€èˆ¬å†…æµ‹ä½¿ç”¨ï¼Œéœ€è¦æŒ‡å®šç‰ˆæœ¬å· installï¼Œä¾‹å¦‚ 3.1.0-beta.0 next: å…ˆè¡Œç‰ˆæœ¬ï¼Œnpm install foo@next å®‰è£…ï¼Œä¾‹å¦‚ 3.0.2-alpha.0 npm dist-tag ls [] // æŸ¥çœ‹åŒ…çš„tag npm publish --tag beta // å‘å¸ƒæµ‹è¯•ç‰ˆæœ¬åŒ… npm dist-tag add my-package@1.0.1-beta.0 beta // ä¿®æ”¹å·²å‘å¸ƒçš„åŒ…ç±»å‹ä¸ºæµ‹è¯• npm dist-tag add my-package@1.0.0 latest // ä¿®æ”¹å·²å‘å¸ƒçš„åŒ…ç±»å‹ä¸ºæœ€åç‰ˆæœ¬ npm publish npm æ³¨å†Œè´¦å· npm è®¾ç½®æºä¸ºï¼šwww.npmjs.com/ ç»ˆç«¯ npm login package.json é…ç½® versions,files,main,private,keywords....ï¼Œå…¶ä¸­ versions æ¯æ¬¡å‘å¸ƒéƒ½å¾—æ›´æ–°ï¼›files å†™éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¼˜å…ˆçº§é«˜äº .npmignore å’Œ .gitignoreï¼Œæ”¯æŒé€šé…ç¬¦ï¼› npm publish æŸ¥çœ‹ npm æ‰“åŒ…å†…å®¹ï¼š npm publish --dry-run npm pack è®¾ç½®è¦å‘å¸ƒçš„åœ°å€ï¼š \"publishConfig\": { \"registry\": \"http://registry.npm.xxx.com/\" } å…¶ä»–å‚è€ƒ git commit ã€CHANGELOG å’Œç‰ˆæœ¬å‘å¸ƒçš„æ ‡å‡†è‡ªåŠ¨åŒ– Copyright Â© Hazel Wei all rights reserved, powered by Gitbook Â Â Â Â Â Â Â Â Â Â  è¯¥æ–‡ç« ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 23:42:45 "}}